(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6096:function(e,t,i){Promise.resolve().then(i.bind(i,4477))},4477:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eE}});var n=i(7437),r=i(2265),a=i(7586),l=i(8239),s=i(9376),o=i(3247),d=i(407),c=i(3412);function g(e){let{onSelect:t}=e,{players:i,loading:s,fetchPlayers:d}=(0,c.wR)(),[g,x]=(0,r.useState)(""),[h,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{d()},[d]);let m=(0,r.useMemo)(()=>i.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())),[i,g]),u=e=>{f(e),setTimeout(()=>t(e),500)};return(0,n.jsx)("div",{className:"container",style:{minHeight:"100dvh",display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:"var(--space-2xl)"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},style:{maxWidth:"28rem",margin:"0 auto",width:"100%"},children:[(0,n.jsxs)("div",{style:{textAlign:"center",marginBottom:"var(--space-2xl)"},children:[(0,n.jsx)(l.E.div,{className:"animate-float",style:{width:72,height:72,borderRadius:"var(--radius-xl)",background:"linear-gradient(135deg, var(--color-accent), #34d399)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--space-lg)",boxShadow:"0 0 40px var(--color-accent-glow)"},children:(0,n.jsx)("span",{style:{fontSize:"2rem",fontWeight:800,color:"white"},children:"S"})}),(0,n.jsx)("span",{className:"text-label",style:{display:"inline-block",padding:"var(--space-xs) var(--space-md)",background:"var(--color-surface)",borderRadius:"var(--radius-full)",marginBottom:"var(--space-md)"},children:"Team Tracker"}),(0,n.jsx)("h1",{className:"text-display",style:{marginBottom:"var(--space-sm)"},children:"Welcome to Shotten"}),(0,n.jsx)("p",{className:"text-body",children:"Select your profile to continue"})]}),(0,n.jsx)("div",{className:"glass-panel",style:{padding:"var(--space-sm)",marginBottom:"var(--space-lg)"},children:(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)(o.Z,{size:20,style:{position:"absolute",left:"var(--space-md)",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-tertiary)",pointerEvents:"none"}}),(0,n.jsx)("input",{type:"text",placeholder:"Search players...",value:g,onChange:e=>x(e.target.value),className:"glass-input",style:{paddingLeft:"calc(var(--space-md) + 28px)"}})]})}),(0,n.jsx)("div",{style:{maxHeight:"calc(100dvh - 420px)",overflowY:"auto",paddingRight:"var(--space-xs)"},className:"scrollbar-hide",children:s?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-sm)"},children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,n.jsx)("div",{className:"glass-panel skeleton",style:{height:72,opacity:1-.15*t}},t))}):(0,n.jsxs)(a.M,{mode:"popLayout",children:[m.map((e,t)=>(0,n.jsx)(p,{player:e,index:t,isSelected:h===e.id,isDisabled:null!==h&&h!==e.id,onSelect:()=>u(e.id)},e.id)),0===m.length&&(0,n.jsx)(l.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-caption",style:{textAlign:"center",padding:"var(--space-xl)"},children:"No players found"})]})})]})})}function p(e){let{player:t,index:i,isSelected:r,isDisabled:a,onSelect:s}=e;return(0,n.jsxs)(l.E.button,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:a?.3:1,x:0,scale:r?1.02:1,filter:a?"blur(2px)":"none"},exit:{opacity:0,scale:.95},transition:{delay:.03*i,layout:{type:"spring",stiffness:400,damping:30}},onClick:s,disabled:r||a,className:"glass-panel touch-target ".concat(r?"animate-pulse-glow status-present":""),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"var(--space-md) var(--space-lg)",marginBottom:"var(--space-sm)",border:r?"1px solid var(--color-accent)":void 0,boxShadow:r?"var(--shadow-glow)":void 0,cursor:r||a?"default":"pointer"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-md)"},children:[(0,n.jsx)("div",{className:"avatar avatar-md",style:{background:r?"var(--color-accent)":"linear-gradient(135deg, #374151, #1f2937)",color:r?"white":"var(--color-text-secondary)"},children:t.name.charAt(0)}),(0,n.jsx)("span",{className:"text-headline",style:{color:r?"white":"var(--color-text-primary)"},children:t.name})]}),r?(0,n.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},style:{width:32,height:32,borderRadius:"50%",background:"white",color:"var(--color-accent)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(d.Z,{size:20})}):(0,n.jsx)(d.Z,{size:20,style:{color:"var(--color-text-tertiary)"}})]})}var x=i(1047);let h={light:5,medium:10,heavy:20};function f(){return"false"!==localStorage.getItem("hapticFeedback")}function m(){return"undefined"!=typeof navigator&&"vibrate"in navigator}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";if(!f()||!m())return;let t=h[e];navigator.vibrate(t)}function y(e){f()&&m()&&navigator.vibrate(e)}let b={tap:()=>u("light"),navigate:()=>u("medium"),success:()=>y([10,50,10]),error:()=>y([20,30,20,30,20]),swipe:()=>u("light"),toggle:()=>u("medium")};var j=i(4887),v=i(3774),w=i(5805),S=i(7100),k=i(5685),C=i(2489),z=i(1817),I=i(7815),D=i(8530);function W(e){var t,i,s;let{match:o,currentPlayerId:g,allPlayers:p,onUpdate:x,variant:h}=e,{updating:f,updateAttendance:m}=(0,c.ii)(),[u,y]=(0,r.useState)({days:0,hours:0,mins:0,secs:0}),[j,S]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[z,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{I("true"===localStorage.getItem("showFullNames"));let e=e=>{I(e.detail)};return window.addEventListener("showFullNamesChanged",e),()=>{window.removeEventListener("showFullNamesChanged",e)}},[]);let D=(0,r.useMemo)(()=>new Date(o.date+(o.date.endsWith("Z")?"":"Z")).getTime(),[o.date]),W=new Date(D),F=D<Date.now();(0,r.useEffect)(()=>{if(F||"hero"!==h)return;let e=()=>{let e=Math.max(0,D-Date.now());y({days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),mins:Math.floor(e%36e5/6e4),secs:Math.floor(e%6e4/1e3)})};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[D,F,h]);let L=p.filter(e=>{var t;return null===(t=e.teamIds)||void 0===t?void 0:t.includes(o.teamId)}).map(e=>{var t;let i=null===(t=o.attendances)||void 0===t?void 0:t.find(t=>t.playerId===e.id);return{...e,status:(null==i?void 0:i.status)||"Unknown"}}),Z=(null===(t=L.find(e=>e.id===g))||void 0===t?void 0:t.status)||"Unknown",M=L.filter(e=>"Present"===e.status),O=L.filter(e=>"Maybe"===e.status),U=W.toLocaleDateString("en-GB",{weekday:"long"}),V=W.getDate(),G=W.toLocaleDateString("en-GB",{month:"short"}).toUpperCase(),H=W.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),Y=async e=>{if(Z!==e){"Present"===e?b.success():b.tap();try{await m(o.id,g,e,()=>{"Present"===e&&(S(!0),setTimeout(()=>S(!1),1500)),x(o.id,e)})}catch(e){}}};if(o.location&&encodeURIComponent(o.location),"hero"===h){let e=o.name.split("-"),t=(null===(i=e[0])||void 0===i?void 0:i.trim())||o.name,r=null===(s=e[1])||void 0===s?void 0:s.trim();return(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:30},style:{background:"linear-gradient(165deg, rgba(40, 45, 55, 0.9) 0%, rgba(20, 22, 28, 0.95) 100%)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:28,border:"1px solid rgba(255, 255, 255, 0.08)",overflow:"hidden",position:"relative"},children:[(0,n.jsx)("div",{style:{position:"absolute",inset:0,background:"radial-gradient(ellipse at 50% 0%, rgba(48, 209, 88, 0.08) 0%, transparent 60%)",pointerEvents:"none"}}),(0,n.jsx)(a.M,{children:j&&(0,n.jsx)(P,{})}),(0,n.jsxs)("div",{style:{position:"relative",zIndex:1,padding:24},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,n.jsxs)("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"white"},children:[U.slice(0,3)," ",V," ",G]}),(0,n.jsx)("span",{style:{width:4,height:4,borderRadius:"50%",background:"rgba(255,255,255,0.3)"}}),(0,n.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:500,color:"rgba(255,255,255,0.6)"},children:H})]}),!F&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:2,fontSize:"0.8rem",fontWeight:600,color:"#30d158"},children:[u.days>0&&(0,n.jsxs)("span",{children:[u.days,"d "]}),(0,n.jsxs)("span",{children:[String(u.hours).padStart(2,"0"),":"]}),(0,n.jsxs)("span",{children:[String(u.mins).padStart(2,"0"),":"]}),(0,n.jsx)("span",{style:{opacity:.7},children:String(u.secs).padStart(2,"0")})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginBottom:20},children:[(0,n.jsx)("div",{style:{flex:1,textAlign:"right"},children:(0,n.jsx)("div",{style:{fontSize:r?"1.3rem":"1.5rem",fontWeight:700,color:"white",lineHeight:1.1},children:t})}),r&&(0,n.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"linear-gradient(135deg, #30d158 0%, #25a847 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 16px rgba(48, 209, 88, 0.3)"},children:(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:800,color:"white",letterSpacing:"-0.02em"},children:"VS"})}),r&&(0,n.jsx)("div",{style:{flex:1,textAlign:"left"},children:(0,n.jsx)("div",{style:{fontSize:"1.3rem",fontWeight:700,color:"white",lineHeight:1.1},children:r})})]}),o.location&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:24},children:[(0,n.jsx)(v.Z,{size:14,style:{color:"rgba(255,255,255,0.4)"}}),(0,n.jsx)("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.4)"},children:o.location})]}),(0,n.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:20,padding:6,marginBottom:16},children:(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6},children:[(0,n.jsx)(E,{type:"yes",selected:"Present"===Z,loading:"Present"===f,onClick:()=>Y("Present")}),(0,n.jsx)(E,{type:"maybe",selected:"Maybe"===Z,loading:"Maybe"===f,onClick:()=>Y("Maybe")}),(0,n.jsx)(E,{type:"no",selected:"NotPresent"===Z,loading:"NotPresent"===f,onClick:()=>Y("NotPresent")})]})}),z?(0,n.jsx)(N,{present:M,maybe:O,notPresent:L.filter(e=>"NotPresent"===e.status),currentPlayerId:g}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"12px 0 0"},children:[(0,n.jsx)(B,{players:[...M,...O].slice(0,5),currentPlayerId:g,size:"sm"}),M.length>0&&(0,n.jsxs)("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:[M.length," going"]})]}),(0,n.jsxs)(l.E.button,{onClick:()=>{b.tap(),C(!0)},whileTap:{scale:.98},style:{width:"100%",marginTop:16,padding:"12px 16px",background:"rgba(255, 255, 255, 0.06)",border:"0.5px solid rgba(255, 255, 255, 0.1)",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:"white"},children:[(0,n.jsx)("span",{style:{fontSize:"0.85rem",fontWeight:500},children:"View Squad & Details"}),(0,n.jsx)(d.Z,{size:16,style:{color:"rgba(255,255,255,0.4)"}})]})]}),(0,n.jsx)(a.M,{children:k&&(0,n.jsx)(A,{match:o,dateObj:W,roster:L,currentPlayerId:g,onClose:()=>C(!1)})})]})}let _=W.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}).toUpperCase();return(0,n.jsxs)(l.E.div,{style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.1)",padding:20,height:"100%",display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,n.jsx)("span",{style:{fontSize:"0.7rem",fontWeight:600,color:"#30d158",letterSpacing:"0.03em"},children:_}),(0,n.jsx)(R,{status:Z})]}),(0,n.jsx)("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"white",margin:0,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.name.replace(/-/g," – ")}),(0,n.jsx)("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.4)",marginBottom:16},children:H}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:"auto"},children:[(0,n.jsx)(T,{type:"yes",selected:"Present"===Z,loading:"Present"===f,onClick:()=>Y("Present"),compact:!0}),(0,n.jsx)(T,{type:"maybe",selected:"Maybe"===Z,loading:"Maybe"===f,onClick:()=>Y("Maybe"),compact:!0}),(0,n.jsx)(T,{type:"no",selected:"NotPresent"===Z,loading:"NotPresent"===f,onClick:()=>Y("NotPresent"),compact:!0})]}),z?(0,n.jsx)("div",{style:{marginTop:12,paddingTop:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.08)"},children:(0,n.jsx)(N,{present:M,maybe:O,notPresent:L.filter(e=>"NotPresent"===e.status),currentPlayerId:g})}):(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:12,paddingTop:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.08)"},children:[(0,n.jsx)(w.Z,{size:12,style:{color:"rgba(255,255,255,0.35)"}}),(0,n.jsxs)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[M.length," in"]}),(0,n.jsx)(B,{players:M.slice(0,3),currentPlayerId:g,size:"sm"})]}),(0,n.jsxs)(l.E.button,{onClick:()=>{b.tap(),C(!0)},whileTap:{scale:.97},style:{width:"100%",marginTop:10,padding:"10px 12px",background:"rgba(255, 255, 255, 0.04)",border:"0.5px solid rgba(255, 255, 255, 0.08)",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:"white"},children:[(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:"View details"}),(0,n.jsx)(d.Z,{size:12,style:{color:"rgba(255,255,255,0.3)"}})]}),(0,n.jsx)(a.M,{children:k&&(0,n.jsx)(A,{match:o,dateObj:W,roster:L,currentPlayerId:g,onClose:()=>C(!1)})})]})}function T(e){let{type:t,selected:i,loading:r,onClick:a,compact:s=!1}=e,{icon:o,color:d,bgSelected:c,borderSelected:g}={yes:{icon:(0,n.jsx)(S.Z,{size:s?18:22}),color:"#30d158",bgSelected:"rgba(48, 209, 88, 0.25)",borderSelected:"rgba(48, 209, 88, 0.5)"},maybe:{icon:(0,n.jsx)(k.Z,{size:s?18:22}),color:"#ffd60a",bgSelected:"rgba(255, 214, 10, 0.15)",borderSelected:"rgba(255, 214, 10, 0.4)"},no:{icon:(0,n.jsx)(C.Z,{size:s?18:22}),color:"#ff453a",bgSelected:"rgba(255, 69, 58, 0.15)",borderSelected:"rgba(255, 69, 58, 0.4)"}}[t];return(0,n.jsx)(l.E.button,{onClick:a,whileTap:{scale:.92},disabled:r,style:{height:s?48:56,border:"none",borderRadius:14,background:i?c:"rgba(255, 255, 255, 0.06)",color:i?d:"rgba(255, 255, 255, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:i?"inset 0 0 0 1.5px ".concat(g):"inset 0 0 0 0.5px rgba(255, 255, 255, 0.1)"},children:r?(0,n.jsx)("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:d,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):o})}function E(e){let{type:t,selected:i,loading:r,onClick:a}=e,{icon:s,color:o,bg:d}={yes:{icon:(0,n.jsx)(S.Z,{size:18}),color:"#30d158",bg:"rgba(48, 209, 88, 0.2)"},maybe:{icon:(0,n.jsx)(k.Z,{size:18}),color:"#ffd60a",bg:"rgba(255, 214, 10, 0.15)"},no:{icon:(0,n.jsx)(C.Z,{size:18}),color:"#ff453a",bg:"rgba(255, 69, 58, 0.15)"}}[t];return(0,n.jsx)(l.E.button,{onClick:a,whileTap:{scale:.92},disabled:r,style:{height:44,border:"none",borderRadius:12,background:i?d:"rgba(255, 255, 255, 0.06)",color:i?o:"rgba(255, 255, 255, 0.35)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:i?"inset 0 0 0 1.5px ".concat(o,"40"):"none"},children:r?(0,n.jsx)("div",{style:{width:14,height:14,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:o,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):s})}function R(e){let{status:t}=e,i={Present:{icon:(0,n.jsx)(S.Z,{size:12}),color:"#30d158"},Maybe:{icon:(0,n.jsx)(k.Z,{size:12}),color:"#ffd60a"},NotPresent:{icon:(0,n.jsx)(C.Z,{size:12}),color:"#ff453a"}}[t];return i?(0,n.jsx)("div",{style:{width:24,height:24,borderRadius:"50%",background:i.color,display:"flex",alignItems:"center",justifyContent:"center",color:"Present"===t?"black":"white"},children:i.icon}):(0,n.jsx)("div",{style:{width:24,height:24,borderRadius:"50%",background:"rgba(255,255,255,0.1)"}})}function B(e){let{players:t,currentPlayerId:i,size:r="md"}=e,a="sm"===r?26:34,s="sm"===r?"0.65rem":"0.8rem";return(0,n.jsx)("div",{style:{display:"flex",marginLeft:4},children:t.map((e,t)=>{let r="Present"===e.status?"#30d158":"#ffd60a",o=e.id===i;return(0,n.jsx)(l.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.04*t},style:{width:a,height:a,borderRadius:"50%",background:r,color:"black",display:"flex",alignItems:"center",justifyContent:"center",fontSize:s,fontWeight:700,marginLeft:t>0?-10:0,border:o?"2px solid white":"2px solid rgba(20,20,25,0.9)",boxShadow:o?"0 0 12px rgba(255,255,255,0.3)":"none"},title:e.name,children:e.name.charAt(0)},e.id)})})}function N(e){let{present:t,maybe:i,notPresent:r,currentPlayerId:a}=e,l=e=>e.id===a?"".concat(e.name," (you)"):e.name,s=e=>0===e.length?null:e.map(l).join(", ");return(0,n.jsxs)("div",{style:{padding:"12px 0 0",display:"flex",flexDirection:"column",gap:6},children:[t.length>0&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#30d158",minWidth:50},children:"Coming"}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",flex:1,lineHeight:1.4},children:s(t)})]}),i.length>0&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ffd60a",minWidth:50},children:"Maybe"}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",flex:1,lineHeight:1.4},children:s(i)})]}),r.length>0&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ff453a",minWidth:50},children:"Out"}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",flex:1,lineHeight:1.4},children:s(r)})]}),0===t.length&&0===i.length&&0===r.length&&(0,n.jsx)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:"No responses yet"})]})}function P(){let e=["#30d158","#0a84ff","#5e5ce6","#ff453a","#ffd60a"];return(0,n.jsx)("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",zIndex:50},children:[...Array(25)].map((t,i)=>{let r=i/25*Math.PI*2,a=100+150*Math.random();return(0,n.jsx)(l.E.div,{initial:{x:"50%",y:"60%",scale:0,opacity:1},animate:{x:"calc(50% + ".concat(Math.cos(r)*a,"px)"),y:"calc(60% + ".concat(Math.sin(r)*a,"px)"),scale:[0,1.5,0],opacity:[1,1,0],rotate:720*Math.random()},transition:{duration:1,ease:"easeOut"},style:{position:"absolute",width:8+6*Math.random(),height:8+6*Math.random(),borderRadius:Math.random()>.5?"50%":2,background:e[i%e.length]}},i)})})}function F(e){let{icon:t,title:i,subtitle:r,href:a,onClick:s}=e,o=(0,n.jsxs)(l.E.div,{whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:12,padding:14,background:"rgba(255, 255, 255, 0.04)",borderRadius:14,border:"0.5px solid rgba(255, 255, 255, 0.08)",cursor:"pointer",textDecoration:"none"},children:[(0,n.jsx)("span",{style:{fontSize:"1.5rem"},children:t}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"0.95rem",fontWeight:600,color:"white"},children:i}),(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r})]}),(0,n.jsx)(d.Z,{size:16,style:{color:"rgba(255,255,255,0.3)"}})]});return a?(0,n.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:o}):(0,n.jsx)("div",{onClick:s,children:o})}function A(e){var t;let{match:i,dateObj:s,roster:o,currentPlayerId:g,onClose:p}=e,[x,h]=(0,r.useState)("squad"),[f,m]=(0,r.useState)(!1),u=(0,r.useRef)(null),y=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{let t=e.find(e=>e.isIntersecting);if(t){let e=t.target.getAttribute("data-view");e&&e!==x&&h(e)}},{root:u.current,threshold:.6});return y.current&&e.observe(y.current),b.current&&e.observe(b.current),()=>e.disconnect()},[x]);let v=e=>{if(u.current){let t="squad"===e?0:u.current.clientWidth;u.current.scrollTo({left:t,behavior:"smooth"})}};if("undefined"==typeof document)return null;let w=o.filter(e=>"Present"===e.status),S=o.filter(e=>"Maybe"===e.status),k=o.filter(e=>"NotPresent"===e.status),W=o.filter(e=>"Unknown"===e.status),T="Present"===(null===(t=o.find(e=>e.id===g))||void 0===t?void 0:t.status)?"".concat(i.name," (Confirmed)"):i.name,E=["FC Degrad\xe9","Wille ma ni kunne"],R=i.name.split("-").map(e=>e.trim()),B=R.find(e=>!E.some(t=>e.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.toLowerCase())))||R[1]||null,[N,P]=(0,r.useState)(null),[A,L]=(0,r.useState)([]),[Z,M]=(0,r.useState)([]),[O,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{B&&"details"===x&&(U(!0),(async()=>{try{let e=await (0,c.NI)(B);if(e){P(e);let t=await (0,c.Vk)(e.externalId);L(t.slice(0,5));let i=await fetch("".concat(D.C,"/api/lzv/matches?teamId=").concat(e.externalId));if(i.ok){let e=await i.json();M(e)}}}catch(e){console.warn("Failed to fetch opponent data:",e)}finally{U(!1)}})())},[B,x]);let V=i.location?"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(i.location)):null,G=i.location?"https://maps.apple.com/?q=".concat(encodeURIComponent(i.location)):null,H="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(encodeURIComponent(T),"&dates=").concat(s.toISOString().replace(/[-:]/g,"").split(".")[0],"Z/").concat(new Date(s.getTime()+72e5).toISOString().replace(/[-:]/g,"").split(".")[0],"Z&location=").concat(encodeURIComponent(i.location||"")),Y=N&&0!==Z.length?Z.filter(e=>"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5).map(e=>{let t=e.homeTeam.toLowerCase().includes(N.name.toLowerCase().slice(0,5))||N.name.toLowerCase().includes(e.homeTeam.toLowerCase().slice(0,5)),i=t?e.homeScore:e.awayScore,n=t?e.awayScore:e.homeScore;return i>n?"W":i<n?"L":"D"}):[],_=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:400,damping:30},style:{width:"100%",maxWidth:360,height:"80vh",maxHeight:"calc(100dvh - 100px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{padding:20,borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},children:[(0,n.jsx)("h2",{style:{fontSize:"1.1rem",fontWeight:700,margin:0,color:"white",marginBottom:4},children:i.name.replace(/-/g," vs ")}),(0,n.jsxs)("p",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)",margin:0},children:[s.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})," • ",s.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),(0,n.jsx)("div",{style:{display:"flex",padding:"12px 16px",gap:8,borderBottom:"0.5px solid rgba(255, 255, 255, 0.08)"},children:["squad","details"].map(e=>(0,n.jsx)(l.E.button,{onClick:()=>v(e),whileTap:{scale:.95},style:{flex:1,padding:"10px 16px",background:x===e?"rgba(255, 255, 255, 0.1)":"transparent",border:"none",borderRadius:10,color:x===e?"white":"rgba(255,255,255,0.5)",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"squad"===e?"Squad (".concat(w.length+S.length,")"):"Details"},e))}),(0,n.jsxs)("div",{ref:u,className:"scrollbar-hide",style:{display:"flex",width:"100%",flex:1,overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},children:[(0,n.jsx)("div",{ref:y,"data-view":"squad",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[{title:"Coming",players:w,color:"#30d158",emoji:"✅"},{title:"Maybe",players:S,color:"#ffd60a",emoji:"\uD83E\uDD14"},{title:"Not Coming",players:k,color:"#ff453a",emoji:"❌"},{title:"No Response",players:W,color:"rgba(255,255,255,0.4)",emoji:"❓"}].map(e=>{let{title:t,players:i,color:r,emoji:a}=e;return i.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8},children:[(0,n.jsx)("span",{children:a}),(0,n.jsxs)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:r,textTransform:"uppercase",letterSpacing:"0.03em"},children:[t," (",i.length,")"]})]}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:i.map(e=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:e.id===g?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",borderRadius:12,border:e.id===g?"0.5px solid rgba(255, 255, 255, 0.15)":"0.5px solid transparent"},children:[(0,n.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:r,color:"No Response"===t?"white":"black",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700,flexShrink:0},children:e.name.charAt(0)}),(0,n.jsxs)("span",{style:{fontSize:"0.9rem",fontWeight:e.id===g?600:400,color:"white"},children:[e.name,e.id===g&&(0,n.jsx)("span",{style:{marginLeft:6,fontSize:"0.7rem",color:"rgba(255,255,255,0.4)"},children:"(you)"})]})]},e.id))})]},t)})})}),(0,n.jsx)("div",{ref:b,"data-view":"details",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[i.location&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:4},children:"Location"}),(0,n.jsx)(F,{icon:"\uD83D\uDCCD",title:"Apple Maps",subtitle:i.location,href:G}),(0,n.jsx)(F,{icon:"\uD83D\uDDFA️",title:"Google Maps",subtitle:i.location,href:V})]}),B&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginTop:12,marginBottom:8},children:"Opponent"}),O?(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:20,color:"rgba(255,255,255,0.5)"},children:[(0,n.jsx)(z.Z,{className:"animate-spin",size:20,style:{marginRight:8}})," Loading team data..."]}):N?(0,n.jsxs)("div",{style:{background:"rgba(255,255,255,0.04)",borderRadius:16,border:"0.5px solid rgba(255,255,255,0.1)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:12,padding:12},children:[N.imageBase64?(0,n.jsx)("img",{src:N.imageBase64,alt:N.name,onClick:()=>m(!0),style:{width:64,height:64,borderRadius:12,objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer"}}):(0,n.jsx)("div",{style:{width:64,height:64,borderRadius:12,background:"linear-gradient(135deg, #5e5ce6, #0a84ff)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:700,color:"white"},children:N.name.charAt(0)}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"1rem",fontWeight:700,color:"white"},children:N.name}),N.leagueName&&(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginTop:2},children:N.leagueName}),N.colors&&(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",marginTop:4},children:["\uD83C\uDFA8 ",N.colors]})]})]}),Y.length>0&&(0,n.jsxs)("div",{style:{padding:"0 12px 12px 12px"},children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:8},children:"Recent Form"}),(0,n.jsx)("div",{style:{display:"flex",gap:6},children:Y.map((e,t)=>(0,n.jsx)("div",{style:{width:32,height:32,borderRadius:8,background:"W"===e?"rgba(48, 209, 88, 0.2)":"L"===e?"rgba(255, 69, 58, 0.2)":"rgba(255, 214, 10, 0.2)",color:"W"===e?"#30d158":"L"===e?"#ff453a":"#ffd60a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700},children:e},t))})]}),void 0!==N.rank&&(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:1,background:"rgba(255,255,255,0.05)",padding:1},children:[(0,n.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"#ffd60a"},children:["#",N.rank]}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"RANK"})]}),(0,n.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white"},children:N.points||0}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"PTS"})]}),(0,n.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"white"},children:[(0,n.jsx)("span",{style:{color:"#30d158"},children:N.wins||0}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),(0,n.jsx)("span",{style:{color:"#ffd60a"},children:N.draws||0}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),(0,n.jsx)("span",{style:{color:"#ff453a"},children:N.losses||0})]}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"W/D/L"})]}),(0,n.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:"0.9rem",fontWeight:600,color:(N.goalDifference||0)>=0?"#30d158":"#ff453a"},children:[(N.goalDifference||0)>=0?"+":"",N.goalDifference||0]}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"GD"})]})]}),(N.manager||N.description)&&(0,n.jsxs)("div",{style:{padding:12,borderTop:"0.5px solid rgba(255,255,255,0.05)"},children:[N.manager&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:N.description?8:0},children:[(0,n.jsx)(I.Z,{size:14,style:{color:"rgba(255,255,255,0.4)"}}),(0,n.jsx)("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:N.manager})]}),N.description&&(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",fontStyle:"italic",lineHeight:1.4},children:['"',N.description,'"']})]}),A.length>0&&(0,n.jsxs)("div",{style:{padding:12,borderTop:"0.5px solid rgba(255,255,255,0.05)"},children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",marginBottom:8,textTransform:"uppercase"},children:"Top Scorers"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:A.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"6px 8px",background:0===t?"rgba(255,214,10,0.1)":"transparent",borderRadius:8},children:[(0,n.jsx)("div",{style:{width:24,height:24,borderRadius:"50%",background:0===t?"#ffd60a":"rgba(255,255,255,0.1)",color:0===t?"black":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:700,flexShrink:0},children:e.number||t+1}),(0,n.jsx)("div",{style:{flex:1,fontSize:"0.8rem",color:"white"},children:e.name}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,fontSize:"0.75rem"},children:[(0,n.jsxs)("span",{style:{color:"#30d158"},children:["⚽ ",e.goals]}),(0,n.jsxs)("span",{style:{color:"#0a84ff"},children:["\uD83C\uDFAF ",e.assists]})]})]},e.externalId))})]}),(0,n.jsxs)("a",{href:"https://www.lzvcup.be/teams/detail/".concat(N.externalId),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:12,gap:6,background:"rgba(10,132,255,0.15)",borderTop:"0.5px solid rgba(255,255,255,0.05)",color:"#0a84ff",fontSize:"0.8rem",fontWeight:600,textDecoration:"none"},children:["View on LZV Cup ",(0,n.jsx)(d.Z,{size:14})]})]}):(0,n.jsx)("div",{style:{padding:16,textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.85rem"},children:"Team data not available"})]}),(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginTop:12,marginBottom:4},children:"Calendar"}),(0,n.jsx)(F,{icon:"\uD83D\uDCC5",title:"Add to Calendar",subtitle:"Download .ics file",onClick:()=>{let e=s.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",t=new Date(s.getTime()+72e5).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",n=new Blob(["BEGIN:VCALENDAR\nVERSION:2.0\nBEGIN:VEVENT\nDTSTART:".concat(e,"\nDTEND:").concat(t,"\nSUMMARY:").concat(T,"\nLOCATION:").concat(i.location||"","\nEND:VEVENT\nEND:VCALENDAR")],{type:"text/calendar"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="".concat(i.name.replace(/\s/g,"_"),".ics"),a.click(),URL.revokeObjectURL(r)}}),(0,n.jsx)(F,{icon:"\uD83D\uDCC6",title:"Google Calendar",subtitle:s.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),href:H})]})})]}),(0,n.jsx)("div",{style:{padding:"8px 16px 16px"},children:(0,n.jsx)(l.E.button,{onClick:p,whileTap:{scale:.98},style:{width:"100%",padding:14,background:"rgba(255, 255, 255, 0.08)",border:"none",borderRadius:14,color:"white",fontSize:"1rem",fontWeight:600,cursor:"pointer"},children:"Done"})})]})}),(0,n.jsx)(a.M,{children:f&&(null==N?void 0:N.imageBase64)&&(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),style:{position:"fixed",inset:0,zIndex:10002,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",padding:20},children:[(0,n.jsx)(l.E.img,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},src:N.imageBase64,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:16,objectFit:"contain"}}),(0,n.jsx)("button",{onClick:()=>m(!1),style:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:36,height:36,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,n.jsx)(C.Z,{size:20})})]})})]});return(0,j.createPortal)(_,document.body)}let L=[{name:"Club Legend",emoji:"\uD83D\uDC51",minScore:1300,color:"#ffd700"},{name:"Ultra",emoji:"\uD83D\uDCE2",minScore:1100,color:"#30d158"},{name:"Plastic Fan",emoji:"\uD83E\uDD21",minScore:1e3,color:"#0a84ff"},{name:"Bench Warmer",emoji:"\uD83E\uDEB5",minScore:800,color:"#ff9f0a"},{name:"Casual",emoji:"\uD83C\uDF7A",minScore:500,color:"#ff453a"},{name:"Professional Ghost",emoji:"\uD83D\uDC7B",minScore:0,color:"#8e8e93"}],Z={present:50,maybe:-20,notPresent:-50,ghost:-100,base:1e3};function M(e){let{matches:t,players:i,currentPlayerId:s}=e,[o,d]=(0,r.useState)(!1),[c,g]=(0,r.useState)(null),p=i.map(e=>({...e,stats:function(e,t){var i;let n=t.filter(t=>{var i;let n=new Date(t.date)<new Date,r=e.teamIds.includes(t.teamId),a=null===(i=t.attendances)||void 0===i?void 0:i.some(e=>"Present"===e.status);return n&&r&&a}),r=[...n].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),a=Z.base,l=0,s=0,o=0,d=0,c=[];r.forEach(t=>{var i;let n,r;let g=null===(i=t.attendances)||void 0===i?void 0:i.find(t=>t.playerId===e.id);g?"Present"===g.status?(n="present",r=Z.present,l++):"Maybe"===g.status?(n="maybe",r=Z.maybe,s++):(n="notPresent",r=Z.notPresent,o++):(n="ghost",r=Z.ghost,d++),a+=r,c.push({matchId:t.id,matchName:t.name,date:new Date(t.date),status:n,points:r})});let g=c.slice(0,5).map(e=>e.status);return{score:a,presentCount:l,maybeCount:s,absentCount:o,ghostCount:d,totalMatches:n.length,rank:(i=a,L.find(e=>i>=e.minScore)||L[L.length-1]),recentForm:g,matchResults:c}}(e,t)})).sort((e,t)=>t.stats.score-e.stats.score),x=p[0],h=p.length>0?p.reduce((e,t)=>e.stats.ghostCount>t.stats.ghostCount?e:t):null,f=p.length>0?p.reduce((e,t)=>e.stats.maybeCount>t.stats.maybeCount?e:t):null;return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Social Credit"}),(0,n.jsxs)(l.E.button,{onClick:()=>d(!0),whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:4,padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",border:"none",borderRadius:20,color:"rgba(255,255,255,0.6)",fontSize:"0.75rem",cursor:"pointer"},children:[(0,n.jsx)(k.Z,{size:14}),"Rules"]})]}),(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Leaderboard"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginBottom:16},children:[(0,n.jsx)(O,{icon:"\uD83C\uDFC6",title:"THE LEGEND",player:null==x?void 0:x.name}),(0,n.jsx)(O,{icon:"\uD83D\uDC7B",title:"CASPER",player:null==h?void 0:h.name}),(0,n.jsx)(O,{icon:"\uD83E\uDD14",title:"MISS MAYBE",player:null==f?void 0:f.name})]}),(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden"},children:p.map((e,t)=>(0,n.jsxs)(l.E.div,{onClick:()=>g(e),whileTap:{scale:.98},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.02*t},style:{display:"flex",alignItems:"center",gap:12,padding:"14px 16px",background:e.id===s?"rgba(10, 132, 255, 0.15)":"transparent",borderLeft:e.id===s?"3px solid #0a84ff":"3px solid transparent",cursor:"pointer",borderBottom:t<p.length-1?"0.5px solid rgba(255, 255, 255, 0.06)":"none"},children:[(0,n.jsx)("span",{style:{width:28,fontSize:t<3?"1.1rem":"0.9rem",fontWeight:600,color:0===t?"#ffd700":1===t?"#c0c0c0":2===t?"#cd7f32":"rgba(255,255,255,0.4)",textAlign:"center"},children:t<3?["\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"][t]:"#".concat(t+1)}),(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",background:e.stats.rank.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",flexShrink:0},children:e.stats.rank.emoji}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"1rem",fontWeight:600,color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,n.jsx)("div",{style:{display:"flex",gap:3,marginTop:4},children:e.stats.recentForm.map((e,t)=>(0,n.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",background:"present"===e?"#30d158":"maybe"===e?"#ffd60a":"notPresent"===e?"#ff453a":"#8e8e93"}},t))})]}),(0,n.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"white"},children:e.stats.score})]},e.id))})]}),(0,n.jsx)(a.M,{children:o&&(0,n.jsx)(G,{onClose:()=>d(!1)})}),(0,n.jsx)(a.M,{children:c&&(0,n.jsx)(U,{player:c,rank:p.findIndex(e=>e.id===c.id)+1,onClose:()=>g(null)})})]})}function O(e){let{icon:t,title:i,player:r}=e;return(0,n.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.06)",borderRadius:14,border:"0.5px solid rgba(255, 255, 255, 0.08)",padding:"12px 10px",textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1.25rem",marginBottom:4},children:t}),(0,n.jsx)("div",{style:{fontSize:"0.55rem",fontWeight:700,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:4},children:i}),(0,n.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r})]})}function U(e){let{player:t,rank:i,onClose:r}=e;if("undefined"==typeof document)return null;let a=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},style:{width:"100%",maxWidth:360,maxHeight:"calc(100dvh - 120px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{padding:"20px 20px 16px",borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)",flexShrink:0},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",marginBottom:4},children:["#",i," \xb7 ",t.stats.rank.emoji," ",t.stats.rank.name]}),(0,n.jsx)("h2",{style:{fontSize:"1.4rem",fontWeight:700,margin:0,color:"white"},children:t.name})]}),(0,n.jsx)(l.E.button,{onClick:r,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:9999,border:"none",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(C.Z,{size:16})})]}),(0,n.jsxs)("div",{style:{marginTop:16,padding:14,background:"rgba(255,255,255,0.04)",borderRadius:14,textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"2.25rem",fontWeight:800,color:t.stats.rank.color},children:t.stats.score}),(0,n.jsx)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:"Shotten Points"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:[(0,n.jsx)(V,{label:"Present",value:t.stats.presentCount,color:"#30d158"}),(0,n.jsx)(V,{label:"Maybe",value:t.stats.maybeCount,color:"#ffd60a"}),(0,n.jsx)(V,{label:"Absent",value:t.stats.absentCount,color:"#ff453a"}),(0,n.jsx)(V,{label:"Ghost",value:t.stats.ghostCount,color:"#8e8e93"})]})]}),(0,n.jsxs)("div",{style:{padding:"12px 16px 20px",overflowY:"auto",flex:1},children:[(0,n.jsx)("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:"Match History"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:t.stats.matchResults.map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"rgba(255,255,255,0.04)",borderRadius:10},children:[(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.matchName.replace(/-/g," – ")}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)"},children:e.date.toLocaleDateString()})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,flexShrink:0},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem"},children:"present"===e.status?"✅":"maybe"===e.status?"⚠️":"notPresent"===e.status?"❌":"\uD83D\uDC7B"}),(0,n.jsxs)("span",{style:{fontWeight:700,fontSize:"0.9rem",color:e.points>0?"#30d158":"#ff453a"},children:[e.points>0?"+":"",e.points]})]})]},e.matchId))})]})]})})]});return(0,j.createPortal)(a,document.body)}function V(e){let{label:t,value:i,color:r}=e;return(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1rem",fontWeight:700,color:r},children:i}),(0,n.jsx)("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:t})]})}function G(e){let{onClose:t}=e;if("undefined"==typeof document)return null;let i=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},style:{width:"100%",maxWidth:340,maxHeight:"calc(100dvh - 120px)",overflowY:"auto",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",padding:20},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,n.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:700,margin:0,color:"white"},children:"How it works \uD83E\uDD21"}),(0,n.jsx)(l.E.button,{onClick:t,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:9999,border:"none",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(C.Z,{size:16})})]}),(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsx)("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",marginBottom:10},children:"Points"}),(0,n.jsxs)("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",marginBottom:12},children:["Start with ",(0,n.jsx)("strong",{style:{color:"white"},children:"1000"})," points."]}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[(0,n.jsx)(H,{emoji:"✅",label:"Present",points:"+50",color:"#30d158"}),(0,n.jsx)(H,{emoji:"⚠️",label:"Maybe",points:"-20",color:"#ffd60a"}),(0,n.jsx)(H,{emoji:"❌",label:"Absent",points:"-50",color:"#ff453a"}),(0,n.jsx)(H,{emoji:"\uD83D\uDC7B",label:"Ghost",points:"-100",color:"#8e8e93"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",marginBottom:10},children:"Ranks"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:L.map(e=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",background:"rgba(255, 255, 255, 0.04)",borderRadius:8},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem"},children:e.emoji}),(0,n.jsx)("span",{style:{color:e.color,fontWeight:500,fontSize:"0.85rem"},children:e.name})]}),(0,n.jsxs)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[e.minScore,"+"]})]},e.name))})]}),(0,n.jsx)(l.E.button,{onClick:t,whileTap:{scale:.98},style:{width:"100%",marginTop:20,padding:"12px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:12,color:"white",fontSize:"0.95rem",fontWeight:600,cursor:"pointer"},children:"Got it"})]})})]});return(0,j.createPortal)(i,document.body)}function H(e){let{emoji:t,label:i,points:r,color:a}=e;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",background:"rgba(255, 255, 255, 0.04)",borderRadius:8},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.85rem"},children:i})]}),(0,n.jsx)("span",{style:{fontWeight:700,color:a,fontSize:"0.85rem"},children:r})]})}var Y=i(8728),_=i(4766),q=i(3388),K=i(1884),X=i(91),J=i(2926),Q=i(5395),$=i(3245),ee=i(7168),et=i(7692);let ei="shotten_last_version_check",en="shotten_update_available",er="shotten_current_version";function ea(){let[e,t]=(0,r.useState)(null),[i,n]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),g=(0,r.useRef)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem(ei);if(e)try{let t=JSON.parse(e);c(new Date(t))}catch(e){}let i=localStorage.getItem(er);i&&t(i);let r=localStorage.getItem(en);r&&i&&r!==i&&(l(!0),n(r))},[]);let p=(0,r.useCallback)(async()=>{if(!s){o(!0);try{let e=await fetch("/version.json?t=".concat(Date.now()),{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!e.ok)throw Error("Failed to fetch version");let i=await e.json();n(i.version);let r=new Date;localStorage.setItem(ei,JSON.stringify(r.toISOString())),c(r);let a=localStorage.getItem(er);a?i.version!==a?(l(!0),localStorage.setItem(en,i.version)):(l(!1),localStorage.removeItem(en)):(localStorage.setItem(er,i.version),t(i.version),l(!1),localStorage.removeItem(en))}catch(e){console.error("Version check failed:",e)}finally{o(!1)}}},[s]),x=(0,r.useCallback)(async()=>{o(!0);try{if("serviceWorker"in navigator)for(let e of(await navigator.serviceWorker.getRegistrations()))await e.update();if(localStorage.removeItem(ei),localStorage.removeItem(en),i&&localStorage.setItem(er,i),"undefined"!=typeof caches){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}window.location.reload()}catch(e){console.error("Update failed:",e),o(!1)}},[i]);return(0,r.useEffect)(()=>{g.current||(g.current=!0,p());let e=setInterval(()=>{p()},3e5);return()=>clearInterval(e)},[p]),{currentVersion:e,latestVersion:i,hasUpdate:a,isChecking:s,checkForUpdates:p,updateApp:x,lastChecked:d}}function el(){let{hasUpdate:e,isChecking:t,updateApp:i,lastChecked:r}=ea();return e?(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("button",{onClick:i,disabled:t,style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:600,color:"#000",background:"#30d158",border:"none",borderRadius:8,cursor:t?"wait":"pointer",opacity:t?.7:1},children:t?"Updating...":"Update"}),(0,n.jsx)("span",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:r&&"Last checked: ".concat(r.toLocaleTimeString())})]}):null}var es=i(8930),eo=i(7806);function ed(e){let{isOpen:t,onClose:i}=e,{players:s,teams:o,loading:d,saving:g,refresh:p,addPlayer:x,removePlayer:h,toggleTeam:f,editPlayer:m}=(0,c.Oz)(),[u,y]=(0,r.useState)(null),[j,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(""),[I,D]=(0,r.useState)(!1),[W,T]=(0,r.useState)(null),E=(0,r.useRef)(null),R=(0,r.useRef)(null);(0,r.useEffect)(()=>(t?(p(),document.body.style.overflow="hidden"):(document.body.style.overflow="",y(null),D(!1),T(null)),()=>{document.body.style.overflow=""}),[t,p]),(0,r.useEffect)(()=>{null!==u&&E.current&&(E.current.focus(),E.current.select())},[u]),(0,r.useEffect)(()=>{I&&R.current&&R.current.focus()},[I]);let B=e=>{b.tap(),y(e.id),v(e.name)},N=async e=>{j.trim()&&j.trim()!==e.name&&(await m(e.id,j.trim(),e.teamIds),b.success()),y(null),v("")},P=async(e,t)=>{b.toggle(),await f(e,t)},F=async()=>{w.trim()&&(await x(w.trim()),b.success(),k(""),D(!1))},A=async e=>{b.error(),await h(e),T(null)},L=()=>{b.tap(),i()};return(0,n.jsx)(a.M,{children:t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:L,style:{position:"fixed",inset:0,zIndex:50,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}),(0,n.jsxs)(l.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},style:{position:"fixed",bottom:0,left:0,right:0,zIndex:51,background:"#1c1c1e",borderTopLeftRadius:20,borderTopRightRadius:20,maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},children:[(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"12px 0 8px"},children:(0,n.jsx)("div",{style:{width:36,height:5,borderRadius:3,background:"rgba(255,255,255,0.3)"}})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 20px 16px",borderBottom:"0.5px solid rgba(255,255,255,0.1)"},children:[(0,n.jsx)("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:"white"},children:"Manage Players"}),(0,n.jsx)(l.E.button,{onClick:L,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.1)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255,255,255,0.6)"},children:(0,n.jsx)(C.Z,{size:18})})]}),d?(0,n.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:40},children:(0,n.jsx)(z.Z,{size:32,style:{color:"#0a84ff",animation:"spin 1s linear infinite"}})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".concat(o.map(()=>"60px").join(" ")," 44px"),gap:8,padding:"12px 20px",background:"rgba(0,0,0,0.2)",borderBottom:"0.5px solid rgba(255,255,255,0.1)",position:"sticky",top:0},children:[(0,n.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase"},children:"Name"}),o.map(e=>(0,n.jsx)("div",{style:{fontSize:"0.65rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.name,children:e.name.substring(0,8)},e.id)),(0,n.jsx)("div",{})]}),(0,n.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0 20px"},children:[s.map(e=>(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".concat(o.map(()=>"60px").join(" ")," 44px"),gap:8,alignItems:"center",padding:"14px 0",borderBottom:"0.5px solid rgba(255,255,255,0.06)"},children:[u===e.id?(0,n.jsx)("input",{ref:E,type:"text",value:j,onChange:e=>v(e.target.value),onBlur:()=>N(e),onKeyDown:t=>{"Enter"===t.key&&N(e),"Escape"===t.key&&(y(null),v(""))},style:{background:"rgba(255,255,255,0.1)",border:"1px solid #0a84ff",borderRadius:8,padding:"8px 12px",color:"white",fontSize:"1rem",outline:"none",width:"100%"}}):(0,n.jsx)("div",{onClick:()=>B(e),style:{color:"white",fontSize:"1rem",fontWeight:500,cursor:"pointer",padding:"8px 0"},children:e.name}),o.map(t=>{let i=e.teamIds.includes(t.id);return(0,n.jsx)(l.E.button,{onClick:()=>P(e,t.id),disabled:g,whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:i?"rgba(48, 209, 88, 0.2)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:g?"wait":"pointer",margin:"0 auto"},children:i&&(0,n.jsx)(S.Z,{size:20,style:{color:"#30d158"}})},t.id)}),W===e.id?(0,n.jsx)(l.E.button,{onClick:()=>A(e.id),whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"#ff453a",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:(0,n.jsx)(S.Z,{size:18})}):(0,n.jsx)(l.E.button,{onClick:()=>{b.tap(),T(e.id),setTimeout(()=>T(null),3e3)},whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"rgba(255, 69, 58, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ff453a"},children:(0,n.jsx)(es.Z,{size:18})})]},e.id)),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr ".concat(o.map(()=>"60px").join(" ")," 44px"),gap:8,alignItems:"center",padding:"14px 0 24px"},children:[I?(0,n.jsx)("input",{ref:R,type:"text",placeholder:"Player name...",value:w,onChange:e=>k(e.target.value),onBlur:()=>{w.trim()||D(!1)},onKeyDown:e=>{"Enter"===e.key&&F(),"Escape"===e.key&&(D(!1),k(""))},style:{background:"rgba(255,255,255,0.1)",border:"1px solid #0a84ff",borderRadius:8,padding:"8px 12px",color:"white",fontSize:"1rem",outline:"none",width:"100%"}}):(0,n.jsxs)(l.E.button,{onClick:()=>{b.tap(),D(!0)},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:8,padding:"10px 0",background:"none",border:"none",cursor:"pointer",color:"#0a84ff",fontSize:"1rem",fontWeight:500},children:[(0,n.jsx)(eo.Z,{size:18}),"Add new player..."]}),o.map(e=>(0,n.jsx)("div",{},e.id)),I&&w.trim()?(0,n.jsx)(l.E.button,{onClick:F,whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"#30d158",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:(0,n.jsx)(S.Z,{size:18})}):(0,n.jsx)("div",{})]})]}),(0,n.jsx)("div",{style:{height:"env(safe-area-inset-bottom, 20px)",background:"#1c1c1e"}})]})]})]})})}var ec=i(7648);function eg(e){let{onLogout:t,onPlayerManagementOpenChange:i}=e,[a,s]=(0,r.useState)(!0),[o,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!0),[m,u]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),{hasUpdate:v,updateApp:S,isChecking:k}=ea();(0,r.useEffect)(()=>{s((0,c.dO)()),g("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname),x("true"===localStorage.getItem("notificationsEnabled")),f("false"!==localStorage.getItem("hapticFeedback")),u("true"===localStorage.getItem("showFullNames"))},[]),(0,r.useEffect)(()=>{null==i||i(y)},[y,i]);let C=async()=>{b.toggle(),!p&&"Notification"in window?"granted"===await Notification.requestPermission()&&(x(!0),localStorage.setItem("notificationsEnabled","true")):(x(!p),localStorage.setItem("notificationsEnabled",(!p).toString()))};return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,n.jsxs)("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,n.jsx)(Y.Z,{size:16,style:{color:"#0a84ff"}}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Preferences"})]}),(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Settings"})]}),(0,n.jsx)(el,{})]}),(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[(0,n.jsx)(ep,{icon:(0,n.jsx)(_.Z,{size:20}),iconBg:"rgba(255, 159, 10, 0.15)",iconColor:"#ff9f0a",title:"Notifications",subtitle:p?"Enabled":"Disabled",toggle:!0,toggleValue:p,onToggle:C,hasBorder:!0}),(0,n.jsx)(ep,{icon:(0,n.jsx)(q.Z,{size:20}),iconBg:"rgba(175, 82, 222, 0.15)",iconColor:"#af52de",title:"Haptic Feedback",subtitle:"Vibration on actions",toggle:!0,toggleValue:h,onToggle:()=>{let e=!h;f(e),localStorage.setItem("hapticFeedback",e.toString()),e&&b.toggle()},hasBorder:!0}),(0,n.jsx)(ep,{icon:(0,n.jsx)(w.Z,{size:20}),iconBg:"rgba(10, 132, 255, 0.15)",iconColor:"#0a84ff",title:"Show Full Names",subtitle:m?"Names visible on cards":"Avatars only",toggle:!0,toggleValue:m,onToggle:()=>{b.toggle();let e=!m;u(e),localStorage.setItem("showFullNames",e.toString()),window.dispatchEvent(new CustomEvent("showFullNamesChanged",{detail:e}))}})]}),(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.12},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:(0,n.jsxs)(l.E.div,{onClick:()=>{b.tap(),j(!0)},whileTap:{scale:.98},style:{padding:16,display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(100, 210, 80, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#64d250",flexShrink:0},children:(0,n.jsx)(K.Z,{size:20})}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:"Manage Players"}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Add, edit or remove players"})]}),(0,n.jsx)(d.Z,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}),o&&(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[(0,n.jsx)("div",{style:{padding:"12px 16px 8px",fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Developer"}),(0,n.jsx)(ep,{icon:a?(0,n.jsx)(X.Z,{size:20}):(0,n.jsx)(J.Z,{size:20}),iconBg:a?"rgba(255, 214, 10, 0.15)":"rgba(48, 209, 88, 0.15)",iconColor:a?"#ffd60a":"#30d158",title:"Data Source",subtitle:a?"Mock data":"Live backend",toggle:!0,toggleValue:!a,toggleColor:a?"#ffd60a":"#30d158",onToggle:()=>{b.toggle();let e=!a;s(e),(0,c.cc)(e)},hasBorder:!0}),(0,n.jsx)(ep,{icon:a?(0,n.jsx)(Q.Z,{size:20}):(0,n.jsx)(J.Z,{size:20}),iconBg:a?"rgba(255, 69, 58, 0.15)":"rgba(48, 209, 88, 0.15)",iconColor:a?"#ff453a":"#30d158",title:"Backend Status",subtitle:a?"Offline":"Connected"})]}),(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[(0,n.jsx)(ex,{icon:(0,n.jsx)($.Z,{size:20}),iconBg:"rgba(10, 132, 255, 0.15)",iconColor:"#0a84ff",title:"About Shotten",hasUpdate:v,onUpdate:S,isChecking:k}),(0,n.jsx)(ec.default,{href:"/version/?from=settings",style:{textDecoration:"none",color:"inherit"},children:(0,n.jsx)(eh,{icon:(0,n.jsx)(ee.Z,{size:18}),iconBg:"rgba(255, 255, 255, 0.08)",iconColor:"rgba(255,255,255,0.4)",label:"Version Details",value:"View build info",hasChevron:!0})})]}),(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden"},children:(0,n.jsxs)(l.E.button,{onClick:t,whileTap:{scale:.98},style:{width:"100%",padding:16,display:"flex",alignItems:"center",gap:12,background:"transparent",border:"none",cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(255, 69, 58, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ff453a",flexShrink:0},children:(0,n.jsx)(et.Z,{size:20})}),(0,n.jsxs)("div",{style:{textAlign:"left"},children:[(0,n.jsx)("div",{style:{fontWeight:600,fontSize:"1rem",color:"#ff453a"},children:"Sign Out"}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Switch to a different player"})]})]})})]}),(0,n.jsx)(ed,{isOpen:y,onClose:()=>j(!1)})]})}function ep(e){let{icon:t,iconBg:i,iconColor:r,title:a,subtitle:s,toggle:o,toggleValue:c,toggleColor:g,onToggle:p,chevron:x,hasBorder:h}=e;return(0,n.jsxs)(l.E.div,{onClick:o?p:void 0,whileTap:o?{scale:.98}:void 0,style:{padding:16,display:"flex",alignItems:"center",gap:12,cursor:o?"pointer":"default",borderBottom:h?"0.5px solid rgba(255, 255, 255, 0.06)":"none"},children:[(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:i,display:"flex",alignItems:"center",justifyContent:"center",color:r,flexShrink:0},children:t}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:a}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:s})]}),o&&(0,n.jsx)("div",{style:{width:48,height:28,borderRadius:9999,background:c?g||"#30d158":"rgba(255,255,255,0.2)",padding:2,flexShrink:0,transition:"background 0.2s"},children:(0,n.jsx)(l.E.div,{animate:{x:c?20:0},transition:{type:"spring",stiffness:500,damping:30},style:{width:24,height:24,borderRadius:"50%",background:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),x&&(0,n.jsx)(d.Z,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}function ex(e){let{icon:t,iconBg:i,iconColor:r,title:a,hasUpdate:s,onUpdate:o,isChecking:d}=e;return(0,n.jsxs)("div",{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{width:40,height:40,borderRadius:10,background:i,display:"flex",alignItems:"center",justifyContent:"center",color:r,flexShrink:0},children:t}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:a}),(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:s?"New version available":"Up to date"})]}),s&&(0,n.jsx)(l.E.button,{onClick:o,disabled:d,whileTap:{scale:.95},style:{padding:"8px 16px",fontSize:"0.8rem",fontWeight:600,color:"#000",background:"#30d158",border:"none",borderRadius:8,cursor:d?"wait":"pointer",opacity:d?.7:1},children:d?"Updating...":"Update"})]})}function eh(e){let{icon:t,iconBg:i,iconColor:r,label:a,value:s,hasChevron:o}=e;return(0,n.jsxs)(l.E.div,{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.06)",cursor:"pointer"},children:[(0,n.jsx)("div",{style:{width:32,height:32,borderRadius:8,background:i,display:"flex",alignItems:"center",justifyContent:"center",color:r,flexShrink:0},children:t}),(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:a}),(0,n.jsx)("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:s})]}),o&&(0,n.jsx)(d.Z,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}var ef=i(9474),em=i(875),eu=i(525);function ey(e){let{team:t,players:i,onClose:s}=e,[o,c]=(0,r.useState)(!1),[g,p]=(0,r.useState)("overview"),[h,f]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),y=(0,r.useRef)(null),b=(0,r.useRef)(null),v=(0,r.useRef)(null),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{u(!0);try{let e=await fetch("".concat(D.C,"/api/lzv/matches?teamId=").concat(t.externalId));if(e.ok){let t=await e.json();f(t)}}catch(e){console.warn("Failed to fetch team matches:",e)}finally{u(!1)}})()},[t.externalId]),(0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{let t=e.find(e=>e.isIntersecting);if(t){let e=t.target.getAttribute("data-view");e&&e!==g&&p(e)}},{root:y.current,threshold:.6});return b.current&&e.observe(b.current),v.current&&e.observe(v.current),S.current&&e.observe(S.current),()=>e.disconnect()},[g]);let k=e=>{if(y.current){let t=("overview"===e?0:"matches"===e?1:2)*y.current.clientWidth;y.current.scrollTo({left:t,behavior:"smooth"})}},z=h.filter(e=>"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5).map(e=>{let i=e.homeTeam.toLowerCase().includes(t.name.toLowerCase().slice(0,5))||t.name.toLowerCase().includes(e.homeTeam.toLowerCase().slice(0,5)),n=i?e.homeScore:e.awayScore,r=i?e.awayScore:e.homeScore;return n>r?"W":n<r?"L":"D"}),W=new Date,T=h.filter(e=>new Date(e.date)>W||"Scheduled"===e.status).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),E=h.filter(e=>new Date(e.date)<=W&&"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),R=i.map(e=>{var i,n,r,a,l;let s=null===(i=e.teamStats)||void 0===i?void 0:i.find(e=>e.teamId===t.externalId);return{...e,goals:null!==(n=null==s?void 0:s.goals)&&void 0!==n?n:e.goals,assists:null!==(r=null==s?void 0:s.assists)&&void 0!==r?r:e.assists,gamesPlayed:null!==(a=null==s?void 0:s.gamesPlayed)&&void 0!==a?a:e.gamesPlayed,number:null!==(l=null==s?void 0:s.number)&&void 0!==l?l:e.number}}).sort((e,t)=>t.goals-e.goals);if("undefined"==typeof document)return null;let B=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),(0,n.jsx)("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:30,stiffness:400},style:{position:"relative",width:"100%",maxWidth:420,height:"85vh",maxHeight:"calc(100dvh - 80px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"0.5px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:12},children:[t.imageBase64?(0,n.jsx)("img",{src:t.imageBase64,alt:t.name,onClick:()=>c(!0),style:{width:48,height:48,borderRadius:12,objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)",cursor:"zoom-in",flexShrink:0}}):(0,n.jsx)("div",{style:{width:48,height:48,borderRadius:12,background:"linear-gradient(135deg, #5e5ce6, #0a84ff)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:700,color:"white",flexShrink:0},children:t.name.charAt(0)}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),t.leagueName&&(0,n.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:t.leagueName})]}),(0,n.jsx)("button",{onClick:s,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",flexShrink:0},children:(0,n.jsx)(C.Z,{size:16})})]}),(0,n.jsx)("div",{style:{display:"flex",padding:"10px 16px",gap:6,borderBottom:"0.5px solid rgba(255,255,255,0.08)",background:"rgba(0,0,0,0.2)"},children:[{id:"overview",icon:eu.Z,label:"Overview"},{id:"matches",icon:x.Z,label:"Matches"},{id:"squad",icon:w.Z,label:"Squad"}].map(e=>(0,n.jsxs)(l.E.button,{onClick:()=>k(e.id),whileTap:{scale:.95},style:{flex:1,padding:"8px 12px",background:g===e.id?"rgba(255,255,255,0.1)":"transparent",border:"none",borderRadius:10,color:g===e.id?"white":"rgba(255,255,255,0.5)",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6,transition:"all 0.2s"},children:[(0,n.jsx)(e.icon,{size:14}),e.label]},e.id))}),(0,n.jsxs)("div",{ref:y,className:"scrollbar-hide",style:{display:"flex",width:"100%",flex:1,overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},children:[(0,n.jsxs)("div",{ref:b,"data-view":"overview",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:[z.length>0&&(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:8},children:"Recent Form"}),(0,n.jsx)("div",{style:{display:"flex",gap:6},children:z.map((e,t)=>(0,n.jsx)("div",{style:{width:32,height:32,borderRadius:8,background:"W"===e?"rgba(48, 209, 88, 0.2)":"L"===e?"rgba(255, 69, 58, 0.2)":"rgba(255, 214, 10, 0.2)",color:"W"===e?"#30d158":"L"===e?"#ff453a":"#ffd60a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700},children:e},t))})]}),void 0!==t.rank&&(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:1,background:"rgba(255,255,255,0.1)",borderRadius:12,overflow:"hidden",marginBottom:16},children:[(0,n.jsx)(eb,{label:"RANK",value:"#".concat(t.rank),color:"#ffd60a"}),(0,n.jsx)(eb,{label:"PTS",value:t.points||0}),(0,n.jsx)(eb,{label:"W/D/L",value:(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{style:{color:"#30d158"},children:t.wins||0}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),(0,n.jsx)("span",{style:{color:"#ffd60a"},children:t.draws||0}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),(0,n.jsx)("span",{style:{color:"#ff453a"},children:t.losses||0})]})}),(0,n.jsx)(eb,{label:"GD",value:"".concat((t.goalDifference||0)>=0?"+":"").concat(t.goalDifference||0),color:(t.goalDifference||0)>=0?"#30d158":"#ff453a"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginBottom:16},children:[(0,n.jsx)(ej,{label:"Played",value:t.matchesPlayed||0}),(0,n.jsx)(ej,{label:"Goals For",value:t.goalsFor||0,color:"#30d158"}),(0,n.jsx)(ej,{label:"Goals Agst",value:t.goalsAgainst||0,color:"#ff453a"})]}),(t.colors||t.manager||t.description)&&(0,n.jsxs)("div",{style:{padding:14,background:"rgba(255,255,255,0.04)",borderRadius:12,marginBottom:16},children:[t.colors&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:t.manager||t.description?10:0},children:[(0,n.jsx)("span",{style:{fontSize:"0.9rem"},children:"\uD83C\uDFA8"}),(0,n.jsx)("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:t.colors})]}),t.manager&&(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:t.description?10:0},children:[(0,n.jsx)(I.Z,{size:16,style:{color:"rgba(255,255,255,0.4)"}}),(0,n.jsx)("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:t.manager})]}),t.description&&(0,n.jsxs)("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.5)",fontStyle:"italic",lineHeight:1.5},children:['"',t.description,'"']})]}),(0,n.jsxs)("a",{href:"https://www.lzvcup.be/teams/detail/".concat(t.externalId),target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:14,gap:8,background:"rgba(10,132,255,0.15)",borderRadius:12,color:"#0a84ff",fontSize:"0.9rem",fontWeight:600,textDecoration:"none"},children:["View on LZV Cup ",(0,n.jsx)(d.Z,{size:16})]})]}),(0,n.jsx)("div",{ref:v,"data-view":"matches",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:m?(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:40,color:"rgba(255,255,255,0.5)"},children:(0,n.jsx)("div",{className:"spinner",style:{width:24,height:24}})}):0===h.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No matches available"}):(0,n.jsxs)(n.Fragment,{children:[T.length>0&&(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:["Upcoming (",T.length,")"]}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:T.slice(0,5).map(e=>(0,n.jsx)(ev,{match:e,teamName:t.name},e._id))})]}),E.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:["Recent Results (",E.length,")"]}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:E.slice(0,10).map(e=>(0,n.jsx)(ev,{match:e,teamName:t.name,isPlayed:!0},e._id))})]})]})}),(0,n.jsx)("div",{ref:S,"data-view":"squad",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:R.length>0?(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:R.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:t<3?"rgba(255,214,10,0.08)":"rgba(255,255,255,0.03)",borderRadius:12,border:"0.5px solid rgba(255,255,255,0.05)"},children:[(0,n.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:t<3?"#ffd60a":"rgba(255,255,255,0.1)",color:t<3?"black":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:700,flexShrink:0},children:e.number||t+1}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsx)("div",{style:{fontSize:"0.9rem",color:"white",fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[e.gamesPlayed," games"]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:12,fontSize:"0.9rem"},children:[(0,n.jsxs)("span",{style:{color:"#30d158",fontWeight:600},children:["⚽ ",e.goals]}),(0,n.jsxs)("span",{style:{color:"#0a84ff",fontWeight:600},children:["\uD83C\uDFAF ",e.assists]})]})]},e.externalId))}):(0,n.jsx)("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No player stats available"})})]})]})}),(0,n.jsx)(a.M,{children:o&&t.imageBase64&&(0,n.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!1),style:{position:"fixed",inset:0,zIndex:10002,background:"rgba(0,0,0,0.95)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:[(0,n.jsx)(l.E.img,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},src:t.imageBase64,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:16,objectFit:"contain"}}),(0,n.jsx)("button",{onClick:()=>c(!1),style:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:40,height:40,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,n.jsx)(C.Z,{size:24})})]})})]});return(0,j.createPortal)(B,document.body)}function eb(e){let{label:t,value:i,color:r}=e;return(0,n.jsxs)("div",{style:{background:"rgba(35,35,40,0.8)",padding:12,textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:r||"white"},children:i}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:t})]})}function ej(e){let{label:t,value:i,color:r}=e;return(0,n.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.04)",borderRadius:10,textAlign:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:r||"white"},children:i}),(0,n.jsx)("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:t})]})}function ev(e){let{match:t,teamName:i,isPlayed:r}=e,a=t.homeTeam.toLowerCase().includes(i.toLowerCase().slice(0,5))||i.toLowerCase().includes(t.homeTeam.toLowerCase().slice(0,5)),l=a?t.awayTeam:t.homeTeam,s=a?t.homeScore:t.awayScore,o=a?t.awayScore:t.homeScore,d=s>o?"W":s<o?"L":"D",c="W"===d?"#30d158":"L"===d?"#ff453a":"#ffd60a",g=new Date(t.date),p=g.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),x=g.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"10px 12px",background:r?"rgba(255,255,255,0.03)":"rgba(10,132,255,0.08)",borderRadius:12,border:"0.5px solid ".concat(r?"rgba(255,255,255,0.05)":"rgba(10,132,255,0.2)")},children:[r&&(0,n.jsx)("div",{style:{width:28,height:28,borderRadius:8,background:"".concat(c,"20"),color:c,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700,flexShrink:0},children:d}),(0,n.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,n.jsxs)("div",{style:{fontSize:"0.85rem",fontWeight:500,color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a?"vs":"@"," ",l]}),(0,n.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)"},children:[p," • ",x,t.location&&" • ".concat(t.location)]})]}),r&&(0,n.jsxs)("div",{style:{fontSize:"0.95rem",fontWeight:700,color:c},children:[s," - ",o]})]})}function ew(){let[e,t]=(0,r.useState)("standings"),[i,s]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null),[f,m]=(0,r.useState)(""),[u,y]=(0,r.useState)(50),[b,j]=(0,r.useState)(null),v=(0,r.useMemo)(()=>Array.from(new Set(i.map(e=>e.leagueName).filter(Boolean))).sort(),[i]);(0,r.useEffect)(()=>{v.length>0&&!f&&m(v[0])},[v,f]),(0,r.useEffect)(()=>{y(50)},[e,f]),(0,r.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([(0,c.SW)(),(0,c.zZ)()]);s(e),d(t)}catch(e){console.error("Failed to load league data:",e)}finally{p(!1)}})()},[]);let S=e=>{let t=o.filter(t=>t.teamIds&&t.teamIds.length>0?t.teamIds.includes(e.externalId):t.teamId===e.externalId);h({team:e,players:t})},k=e=>{let t=e.teamIds||[e.teamId],n=i.filter(e=>t.includes(e.externalId));0!==n.length&&(1===n.length?S(n[0]):j({player:e,teams:n}))},I=e=>{let t=e.toLowerCase();return t.includes("degrad")||t.includes("wille ma ni")},D=(0,r.useMemo)(()=>f?i.filter(e=>e.leagueName===f).sort((e,t)=>(e.rank||99)-(t.rank||99)):[],[i,f]),W=(0,r.useMemo)(()=>{if(!f)return[];let e=new Set(D.map(e=>e.externalId));return o.filter(t=>t.teamIds&&t.teamIds.length>0?t.teamIds.some(t=>e.has(t)):e.has(t.teamId)).sort((e,t)=>t.goals-e.goals)},[o,D,f]),T=(0,r.useMemo)(()=>({totalGoals:W.reduce((e,t)=>e+t.goals,0),totalAssists:W.reduce((e,t)=>e+t.assists,0),teamCount:D.length,playerCount:W.length}),[W,D]);return(0,n.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",background:"#000"},children:[(0,n.jsxs)("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",background:"rgba(28, 28, 30, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",position:"sticky",top:0,zIndex:10,borderBottom:"0.5px solid rgba(255,255,255,0.08)"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,n.jsx)(ef.Z,{size:16,style:{color:"#ffd60a"}}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ffd60a",textTransform:"uppercase",letterSpacing:"0.05em"},children:"LZV Cup"})]}),(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:800,margin:0,color:"white"},children:"League"})]}),!g&&(0,n.jsxs)("div",{style:{display:"flex",gap:12,fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{style:{color:"white"},children:T.teamCount})," teams"]}),(0,n.jsxs)("span",{children:[(0,n.jsx)("strong",{style:{color:"#30d158"},children:T.totalGoals})," goals"]})]})]}),v.length>0&&(0,n.jsxs)("div",{style:{marginTop:12,position:"relative"},children:[(0,n.jsx)("select",{value:f,onChange:e=>m(e.target.value),style:{width:"100%",appearance:"none",background:"rgba(255,255,255,0.08)",border:"0.5px solid rgba(255,255,255,0.1)",borderRadius:10,padding:"10px 14px",paddingRight:36,color:"white",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"},children:v.map(e=>(0,n.jsx)("option",{value:e,style:{color:"black",background:"#1c1c1e"},children:e},e))}),(0,n.jsx)(em.Z,{size:16,color:"rgba(255,255,255,0.5)",style:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"}})]}),(0,n.jsx)("div",{style:{display:"flex",background:"rgba(118, 118, 128, 0.2)",borderRadius:10,padding:3,marginTop:12},children:[{id:"standings",icon:eu.Z,label:"Standings"},{id:"players",icon:w.Z,label:"Top Scorers"}].map(i=>(0,n.jsxs)(l.E.button,{onClick:()=>t(i.id),whileTap:{scale:.98},style:{flex:1,border:"none",background:e===i.id?"rgba(99, 99, 102, 0.8)":"transparent",color:e===i.id?"white":"rgba(255,255,255,0.5)",padding:"8px 0",borderRadius:8,fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[(0,n.jsx)(i.icon,{size:14}),i.label]},i.id))})]}),(0,n.jsx)("div",{style:{flex:1,overflowY:"auto",paddingBottom:100},children:g?(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:60},children:(0,n.jsx)(z.Z,{className:"animate-spin",size:24,color:"rgba(255,255,255,0.5)"})}):(0,n.jsx)(a.M,{mode:"wait",children:"standings"===e?(0,n.jsx)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},style:{padding:16},children:(0,n.jsxs)("div",{style:{background:"#1c1c1e",borderRadius:16,overflow:"hidden",border:"0.5px solid rgba(255,255,255,0.08)"},children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"28px 1fr 32px 32px 38px 38px",gap:6,padding:"10px 12px",borderBottom:"0.5px solid rgba(255,255,255,0.08)",fontSize:"0.65rem",fontWeight:700,color:"rgba(255,255,255,0.35)",textTransform:"uppercase",letterSpacing:"0.03em"},children:[(0,n.jsx)("div",{style:{textAlign:"center"},children:"#"}),(0,n.jsx)("div",{children:"Team"}),(0,n.jsx)("div",{style:{textAlign:"center"},children:"MP"}),(0,n.jsx)("div",{style:{textAlign:"center"},children:"GD"}),(0,n.jsx)("div",{style:{textAlign:"center"},children:"Pts"}),(0,n.jsx)("div",{style:{textAlign:"center"},children:"Avg"})]}),D.length>0?D.map((e,t)=>{var i;let r=I(e.name),a=1===e.rank,s=e.rank===D.length;return(0,n.jsxs)(l.E.div,{onClick:()=>S(e),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.02*t,duration:.2},whileTap:{scale:.99,background:"rgba(255,255,255,0.06)"},style:{display:"grid",gridTemplateColumns:"28px 1fr 32px 32px 38px 38px",gap:6,padding:"12px",borderBottom:"0.5px solid rgba(255,255,255,0.04)",fontSize:"0.85rem",color:"white",alignItems:"center",cursor:"pointer",background:r?"rgba(10, 132, 255, 0.12)":"transparent",position:"relative"},children:[r&&(0,n.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:3,background:"#0a84ff",borderRadius:"0 2px 2px 0"}}),(0,n.jsx)("div",{style:{textAlign:"center",fontWeight:700,fontSize:"0.8rem",color:a?"#ffd60a":s?"#ff453a":"rgba(255,255,255,0.4)"},children:e.rank}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,overflow:"hidden"},children:[e.imageBase64?(0,n.jsx)("img",{src:e.imageBase64,alt:"",style:{width:26,height:26,borderRadius:6,objectFit:"cover",flexShrink:0}}):(0,n.jsx)("div",{style:{width:26,height:26,borderRadius:6,background:a?"linear-gradient(135deg, #ffd60a, #ff9500)":"#3a3a3c",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:700,color:a?"black":"white",flexShrink:0},children:e.name.charAt(0)}),(0,n.jsx)("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:r?700:500},children:e.name})]}),(0,n.jsx)("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.8rem"},children:e.matchesPlayed}),(0,n.jsxs)("div",{style:{textAlign:"center",color:(e.goalDifference||0)>0?"#30d158":0>(e.goalDifference||0)?"#ff453a":"rgba(255,255,255,0.4)",fontSize:"0.8rem",fontWeight:600},children:[(e.goalDifference||0)>0?"+":"",e.goalDifference||0]}),(0,n.jsx)("div",{style:{textAlign:"center",fontWeight:800,fontSize:"0.9rem"},children:e.points}),(0,n.jsx)("div",{style:{textAlign:"center",color:"#0a84ff",fontSize:"0.75rem",fontWeight:600},children:null===(i=e.pointsPerMatch)||void 0===i?void 0:i.toFixed(1)})]},e.externalId)}):(0,n.jsx)("div",{style:{padding:24,textAlign:"center",color:"rgba(255,255,255,0.4)"},children:"No teams found for this league"})]})},"standings"):(0,n.jsx)(l.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.15},style:{padding:16},children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:0===W.length?(0,n.jsx)("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No player data available for this league"}):(0,n.jsxs)(n.Fragment,{children:[W.slice(0,u).map((e,t)=>{let r=e.teamIds||[e.teamId],a=i.filter(e=>r.includes(e.externalId)),s=a[0],o=a.some(e=>I(e.name)),d=a.length>1,c=t<3;return(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(.015*t,.3),duration:.2},onClick:()=>k(e),style:{background:o?"rgba(10, 132, 255, 0.12)":c?"rgba(255, 214, 10, 0.06)":"#1c1c1e",borderRadius:14,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",border:c?"0.5px solid rgba(255, 214, 10, 0.15)":"0.5px solid rgba(255,255,255,0.05)",position:"relative",overflow:"hidden",cursor:a.length>0?"pointer":"default"},children:[o&&(0,n.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:3,background:"#0a84ff"}}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,n.jsx)("div",{style:{width:28,textAlign:"center",fontSize:"0.85rem",fontWeight:700,color:c?"#ffd60a":"rgba(255,255,255,0.35)"},children:t+1}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontWeight:600,color:"white",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:6},children:[e.name,d&&(0,n.jsxs)("span",{style:{fontSize:"0.6rem",padding:"2px 5px",background:"rgba(94, 92, 230, 0.3)",color:"#a5a4f3",borderRadius:4,fontWeight:600},children:[a.length," teams"]})]}),(0,n.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",display:"flex",alignItems:"center",gap:6},children:[d?a.map(e=>e.name).join(" & "):(null==s?void 0:s.name)||"Unknown Team",(0,n.jsx)("span",{style:{opacity:.5},children:"•"}),(0,n.jsxs)("span",{children:[e.gamesPlayed,"g"]})]})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:14,alignItems:"center"},children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1rem",fontWeight:700,color:"#30d158"},children:e.goals}),(0,n.jsx)("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.3)",textTransform:"uppercase"},children:"Goals"})]}),(0,n.jsx)("div",{style:{width:1,height:24,background:"rgba(255,255,255,0.1)"}}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)("div",{style:{fontSize:"1rem",fontWeight:700,color:"#0a84ff"},children:e.assists}),(0,n.jsx)("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.3)",textTransform:"uppercase"},children:"Asts"})]})]})]},e.externalId)}),u<W.length&&(0,n.jsxs)(l.E.button,{onClick:()=>{y(e=>e+50)},whileTap:{scale:.98},style:{padding:"14px",background:"rgba(255,255,255,0.06)",border:"0.5px solid rgba(255,255,255,0.1)",borderRadius:12,color:"white",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",marginTop:8,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:["Show More (",W.length-u," remaining)",(0,n.jsx)(em.Z,{size:16})]})]})})},"players")})}),(0,n.jsx)(a.M,{children:b&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>j(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",zIndex:1e4}}),(0,n.jsx)("div",{style:{position:"fixed",inset:0,zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",padding:20},children:(0,n.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:25,stiffness:350},style:{width:"100%",maxWidth:320,background:"rgba(28, 28, 30, 0.95)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,padding:20,border:"0.5px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",pointerEvents:"auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,n.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white"},children:"Select Team"}),(0,n.jsx)("button",{onClick:()=>j(null),style:{background:"rgba(255,255,255,0.08)",border:"none",borderRadius:"50%",width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.8)",cursor:"pointer",transition:"background 0.2s"},children:(0,n.jsx)(C.Z,{size:16})})]}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:b.teams.map(e=>(0,n.jsxs)(l.E.button,{onClick:()=>{S(e),j(null)},whileTap:{scale:.97},style:{display:"flex",alignItems:"center",gap:12,padding:"12px 14px",background:"rgba(255,255,255,0.05)",border:"0.5px solid rgba(255,255,255,0.05)",borderRadius:14,cursor:"pointer",textAlign:"left"},children:[e.imageBase64?(0,n.jsx)("img",{src:e.imageBase64,alt:"",style:{width:36,height:36,borderRadius:10,objectFit:"cover"}}):(0,n.jsx)("div",{style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg, #ffd60a, #ff9500)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"0.9rem",color:"black"},children:e.name.charAt(0)}),(0,n.jsx)("div",{style:{color:"white",fontWeight:600,fontSize:"0.95rem"},children:e.name})]},e.externalId))})]})})]})}),(0,n.jsx)(a.M,{children:x&&(0,n.jsx)(ey,{team:x.team,players:x.players,onClose:()=>h(null)})})]})}let eS=["home","stats","league","settings"];function ek(e){let{playerId:t,currentView:i,onLogout:a,onViewChange:s,onPlayerManagementOpenChange:o}=e,{matches:d,loading:g,error:p,fetchMatches:h,setMatches:f}=(0,c.SN)(t),{players:m,fetchAllPlayers:u}=(0,c.vw)(),y=(0,r.useRef)(null),j=(0,r.useRef)(null),v=(0,r.useRef)(!1),w=(0,r.useRef)(!1),S=(0,r.useRef)(!0);(0,r.useEffect)(()=>{h(),u()},[h,u]);let k=(0,r.useRef)(null),C=(0,r.useRef)(null),z=(0,r.useRef)(null),I=(0,r.useRef)(null);(0,r.useEffect)(()=>{w.current||g||!j.current||(v.current=!0,requestAnimationFrame(()=>{if(j.current){let e=eS.indexOf(i)*window.innerWidth,t=S.current?"auto":"smooth";j.current.scrollTo({left:e,behavior:t}),S.current&&(S.current=!1),setTimeout(()=>{v.current=!1},800)}}))},[g,i]),(0,r.useEffect)(()=>{if(g)return;let e=new IntersectionObserver(e=>{if(v.current)return;let t=e.find(e=>e.isIntersecting);if(t){let e=t.target.getAttribute("data-view");e&&e!==i&&(b.swipe(),s(e))}},{root:j.current,threshold:.6});return k.current&&e.observe(k.current),C.current&&e.observe(C.current),z.current&&e.observe(z.current),I.current&&e.observe(I.current),()=>e.disconnect()},[g,i,s]);let D=async(e,i)=>{void 0!==e&&void 0!==i?f(n=>n.map(n=>{if(n.id===e){let e=n.attendances?[...n.attendances]:[],r=e.findIndex(e=>e.playerId===t);return r>=0?e[r]={...e[r],status:i}:e.push({playerId:t,status:i}),{...n,attendances:e}}return n})):await h()},T=new Date(new Date().getTime()-72e5),E=d.find(e=>new Date(e.date)>T),R=d.filter(e=>e.id!==(null==E?void 0:E.id)),B=R.filter(e=>new Date(e.date)>T),N=R.filter(e=>new Date(e.date)<=T).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());if(g)return(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"glass-panel-heavy skeleton",style:{height:320,marginBottom:"var(--space-xl)"}}),(0,n.jsx)("div",{className:"grid-cards",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,n.jsx)("div",{className:"glass-panel skeleton",style:{height:200}},t))})]});if(p)return(0,n.jsx)("div",{className:"container flex-center",style:{minHeight:"80dvh"},children:(0,n.jsxs)(l.E.div,{className:"glass-panel-heavy",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{padding:"var(--space-2xl)",textAlign:"center",maxWidth:400},children:[(0,n.jsx)("div",{style:{fontSize:"4rem",marginBottom:"var(--space-lg)"},children:"\uD83D\uDC7B"}),(0,n.jsx)("h2",{className:"text-title",style:{marginBottom:"var(--space-sm)"},children:"Connection Lost"}),(0,n.jsx)("p",{className:"text-body",style:{marginBottom:"var(--space-lg)"},children:"Unable to reach the server. Check your connection."}),(0,n.jsx)("button",{className:"btn btn-primary touch-target",onClick:()=>h(),children:"Try Again"})]})});let P=(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{style:{marginBottom:20},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,n.jsx)(x.Z,{size:16,style:{color:"#0a84ff"}}),(0,n.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Schedule"})]}),(0,n.jsx)("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Matches"})]}),E?(0,n.jsx)("section",{style:{marginBottom:"var(--space-2xl)",position:"relative"},children:(0,n.jsx)(W,{match:E,currentPlayerId:t,allPlayers:m,onUpdate:D,variant:"hero"})}):(0,n.jsxs)("div",{className:"glass-panel-heavy flex-center",style:{minHeight:300,flexDirection:"column",textAlign:"center",padding:"var(--space-2xl)",marginBottom:"var(--space-2xl)"},children:[(0,n.jsx)("div",{style:{fontSize:"3rem",marginBottom:"var(--space-md)"},children:"⚽"}),(0,n.jsx)("h2",{className:"text-title",children:"No Upcoming Matches"}),(0,n.jsx)("p",{className:"text-body",children:"Time to schedule the next game!"})]}),B.length>0&&(0,n.jsxs)("section",{ref:y,style:{marginBottom:"var(--space-2xl)"},children:[(0,n.jsx)("h2",{className:"text-label",style:{marginBottom:"var(--space-md)"},children:"Upcoming Matches"}),(0,n.jsx)("div",{className:"grid-cards",children:B.map(e=>(0,n.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,n.jsx)(W,{match:e,currentPlayerId:t,allPlayers:m,onUpdate:D,variant:"compact"})},e.id))})]}),N.length>0&&(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{className:"text-label",style:{marginBottom:"var(--space-md)"},children:"Past Matches"}),(0,n.jsx)("div",{className:"grid-cards",style:{opacity:.6},children:N.slice(0,4).map(e=>(0,n.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,n.jsx)(W,{match:e,currentPlayerId:t,allPlayers:m,onUpdate:D,variant:"compact"})},e.id))})]})]});return(0,n.jsxs)("div",{ref:j,onTouchStart:()=>{w.current=!0},onTouchEnd:()=>{setTimeout(()=>{w.current=!1},500)},style:{display:"flex",width:"100vw",height:"100dvh",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},className:"scrollbar-hide",children:[(0,n.jsx)("div",{ref:k,"data-view":"home",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:P}),(0,n.jsx)("div",{ref:C,"data-view":"stats",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:(0,n.jsx)(M,{matches:d,players:m,currentPlayerId:t})}),(0,n.jsx)("div",{ref:z,"data-view":"league",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"hidden"},children:(0,n.jsx)(ew,{})}),(0,n.jsx)("div",{ref:I,"data-view":"settings",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:(0,n.jsx)(eg,{onLogout:a,onPlayerManagementOpenChange:o})})]})}var eC=i(4938),ez=i(6818);let eI=[{id:"home",icon:(0,n.jsx)(eC.Z,{size:22}),label:"Home"},{id:"stats",icon:(0,n.jsx)(ez.Z,{size:22}),label:"Stats"},{id:"league",icon:(0,n.jsx)(ef.Z,{size:22}),label:"League"},{id:"settings",icon:(0,n.jsx)(Y.Z,{size:22}),label:"Settings"}];function eD(e){let{currentView:t,onNavigate:i,isHidden:a=!1}=e,[s,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),g=(0,r.useCallback)(e=>{let i=eI.findIndex(e=>e.id===t);return e<-20&&i>0?eI[i-1].id:e>20&&i<eI.length-1?eI[i+1].id:null},[t]),p=(0,r.useCallback)((e,t)=>{o(g(t.offset.x))},[g]),x=(0,r.useCallback)((e,n)=>{let r=eI.findIndex(e=>e.id===t),a=n.velocity.x,l=n.offset.x,s=!1,d=null;(a<-500||l<-20)&&r>0?(s=!0,d=eI[r-1].id):(a>500||l>20)&&r<eI.length-1&&(s=!0,d=eI[r+1].id),o(null),c(!1),s&&d&&(b.swipe(),i(d))},[t,i]);return(0,n.jsx)("div",{style:{position:"fixed",bottom:0,left:0,right:0,display:"flex",justifyContent:"center",paddingBottom:"max(24px, env(safe-area-inset-bottom, 24px))",zIndex:9999,pointerEvents:"none",opacity:a?0:1,transform:a?"translateY(100px)":"translateY(0)",transition:"opacity 0.3s, transform 0.3s"},children:(0,n.jsx)(l.E.nav,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:400,damping:30,delay:.3},style:{pointerEvents:"auto"},children:(0,n.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:6,padding:8,background:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(30px) saturate(180%)",WebkitBackdropFilter:"blur(30px) saturate(180%)",borderRadius:9999,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"\n                            0 8px 32px rgba(0, 0, 0, 0.2),\n                            inset 0 0.5px 0 rgba(255, 255, 255, 0.08)\n                        "},children:eI.map(e=>{let r=t===e.id,a=s===e.id;return(0,n.jsxs)(l.E.button,{onClick:()=>{d||(b.navigate(),i(e.id))},whileTap:{scale:d?1:.85},drag:!!r&&"x",dragConstraints:{left:0,right:0},dragElastic:.5,onDragStart:()=>c(!0),onDrag:r?p:void 0,onDragEnd:r?x:void 0,"aria-label":e.label,style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:52,height:52,border:"none",borderRadius:9999,background:"transparent",cursor:r?"grab":"pointer",zIndex:r?2:1,touchAction:"none"},children:[r&&(0,n.jsx)(l.E.div,{layoutId:"nav-pill-bg",transition:{type:"spring",stiffness:500,damping:35,mass:.8},style:{position:"absolute",inset:0,borderRadius:9999,background:"linear-gradient(\n                                                180deg,\n                                                rgba(255, 255, 255, 0.16) 0%,\n                                                rgba(255, 255, 255, 0.08) 100%\n                                            )",border:"0.5px solid rgba(255, 255, 255, 0.15)",boxShadow:"\n                                                0 0 20px rgba(255, 255, 255, 0.1),\n                                                inset 0 1px 0 rgba(255, 255, 255, 0.2)\n                                            "}}),a&&!r&&(0,n.jsx)(l.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},style:{position:"absolute",inset:2,borderRadius:9999,border:"2px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.05)"}}),(0,n.jsx)(l.E.div,{animate:{scale:r?1.05:a?1.1:.9,color:r?"#ffffff":a?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.35)"},transition:{type:"spring",stiffness:500,damping:30},style:{display:"flex",alignItems:"center",justifyContent:"center",zIndex:2},children:e.icon})]},e.id)})})})})}let eW=["home","stats","league","settings"];function eT(){let[e,t]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!1),p=(0,s.useSearchParams)(),x=(0,s.useRouter)(),h=(0,s.usePathname)(),[f,m]=(0,r.useState)(()=>{{let e=new URLSearchParams(window.location.search).get("view");if(e&&eW.includes(e))return e}return"home"});(0,r.useEffect)(()=>{let e=localStorage.getItem("selectedPlayerId");e&&t(parseInt(e,10));let i=null==p?void 0:p.get("view");i&&eW.includes(i)&&i!==f&&m(i),o(!1)},[p]);let u=(0,r.useCallback)(e=>{m(e);let t=new URLSearchParams(p.toString());"home"===e?t.delete("view"):t.set("view",e),x.replace("".concat(h,"?").concat(t.toString()),{scroll:!1}),window.scrollTo({top:0,behavior:"smooth"})},[p,x,h]);return((0,r.useEffect)(()=>{window.scrollTo({top:0})},[e]),i)?(0,n.jsx)("div",{className:"flex-center",style:{minHeight:"100dvh"},children:(0,n.jsx)("div",{className:"spinner"})}):(0,n.jsxs)("main",{style:{overflow:"hidden"},children:[(0,n.jsx)(a.M,{initial:!1,mode:"popLayout",children:e?(0,n.jsx)(ek,{playerId:e,currentView:f,onLogout:()=>{localStorage.removeItem("selectedPlayerId"),t(null),m("home"),x.replace(h,{scroll:!1})},onViewChange:u,onPlayerManagementOpenChange:c}):(0,n.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95,filter:"blur(10px)"},transition:{duration:.35},children:(0,n.jsx)(g,{onSelect:e=>{localStorage.setItem("selectedPlayerId",e.toString()),t(e)}})},"player-select")}),e&&(0,n.jsx)(eD,{currentView:f,onNavigate:e=>u(e),isHidden:d})]})}function eE(){return(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)("div",{className:"flex-center",style:{minHeight:"100dvh"},children:(0,n.jsx)("div",{className:"spinner"})}),children:(0,n.jsx)(eT,{})})}}},function(e){e.O(0,[639,109,412,971,117,744],function(){return e(e.s=6096)}),_N_E=e.O()}]);