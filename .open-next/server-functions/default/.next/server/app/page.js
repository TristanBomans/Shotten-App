(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},415:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>g,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),i(908),i(7350),i(5866);var r=i(3191),n=i(8716),a=i(7922),s=i.n(a),l=i(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);i.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,908)),"/home/tristan/Documents/projects/Shotten-App/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(i.bind(i,7350)),"/home/tristan/Documents/projects/Shotten-App/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],c=["/home/tristan/Documents/projects/Shotten-App/app/page.tsx"],p="/page",g={require:i,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2346:(e,t,i)=>{Promise.resolve().then(i.bind(i,5802))},5802:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>e$});var r=i(326),n=i(7577),a=i(339),s=i(4749),l=i(2482),o=i(295),d=i(9539),c=i(3965);function p(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class g extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,i=(0,d.R)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:t,anchorX:i,root:a}){let s=(0,n.useId)(),l=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,n.useContext)(c._),h=function(...e){return n.useCallback(function(...e){return t=>{let i=!1,r=e.map(e=>{let r=p(e,t);return i||"function"!=typeof r||(i=!0),r});if(i)return()=>{for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof i?i():p(e[t],null)}}}}(...e),e)}(l,e.props?.ref??e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:c,right:p}=o.current;if(t||!l.current||!e||!r)return;let g="left"===i?`left: ${c}`:`right: ${p}`;l.current.dataset.motionPopId=s;let h=document.createElement("style");d&&(h.nonce=d);let x=a??document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${g}px !important;
            top: ${n}px !important;
          }
        `),()=>{x.contains(h)&&x.removeChild(h)}},[t]),(0,r.jsx)(g,{isPresent:t,childRef:l,sizeRef:o,children:n.cloneElement(e,{ref:h})})}let x=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:l,presenceAffectsLayout:d,mode:c,anchorX:p,root:g})=>{let x=(0,s.h)(m),f=(0,n.useId)(),u=!0,y=(0,n.useMemo)(()=>(u=!1,{id:f,initial:t,isPresent:i,custom:l,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;a&&a()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[i,x,a]);return d&&u&&(y={...y}),(0,n.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[i]),n.useEffect(()=>{i||x.size||!a||a()},[i]),"popLayout"===c&&(e=(0,r.jsx)(h,{isPresent:i,anchorX:p,root:g,children:e})),(0,r.jsx)(o.O.Provider,{value:y,children:e})};function m(){return new Map}var f=i(6933);let u=e=>e.key||"";function y(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:t,initial:i=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:c="sync",propagate:p=!1,anchorX:g="left",root:h})=>{let[m,b]=(0,f.oO)(p),j=(0,n.useMemo)(()=>y(e),[e]),v=p&&!m?[]:j.map(u),w=(0,n.useRef)(!0),k=(0,n.useRef)(j),S=(0,s.h)(()=>new Map),z=(0,n.useRef)(new Set),[C,I]=(0,n.useState)(j),[D,R]=(0,n.useState)(j);(0,l.L)(()=>{w.current=!1,k.current=j;for(let e=0;e<D.length;e++){let t=u(D[e]);v.includes(t)?(S.delete(t),z.current.delete(t)):!0!==S.get(t)&&S.set(t,!1)}},[D,v.length,v.join("-")]);let W=[];if(j!==C){let e=[...j];for(let t=0;t<D.length;t++){let i=D[t],r=u(i);v.includes(r)||(e.splice(t,0,i),W.push(i))}return"wait"===c&&W.length&&(e=W),R(y(e)),I(j),null}let{forceRender:T}=(0,n.useContext)(a.p);return(0,r.jsx)(r.Fragment,{children:D.map(e=>{let n=u(e),a=(!p||!!m)&&(j===D||v.includes(n));return(0,r.jsx)(x,{isPresent:a,initial:(!w.current||!!i)&&void 0,custom:t,presenceAffectsLayout:d,mode:c,root:h,onExitComplete:a?void 0:()=>{if(z.current.has(n)||(z.current.add(n),!S.has(n)))return;S.set(n,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(T?.(),R(k.current),p&&b?.(),o&&o())},anchorX:g,children:e},n)})})};var j=i(5795),v=i(5047),w=i(2881);let k=(0,w.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),S=(0,w.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var z=i(6079);function C({onSelect:e}){let{players:t,loading:i,fetchPlayers:a}=(0,z.wR)(),[s,l]=(0,n.useState)(""),[o,d]=(0,n.useState)(null),c=(0,n.useMemo)(()=>t.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())),[t,s]),p=t=>{d(t),setTimeout(()=>e(t),500)};return r.jsx("div",{className:"container",style:{minHeight:"100dvh",display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:"var(--space-2xl)"},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},style:{maxWidth:"28rem",margin:"0 auto",width:"100%"},children:[(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:"var(--space-2xl)"},children:[r.jsx(j.E.div,{className:"animate-float",style:{width:72,height:72,borderRadius:"var(--radius-xl)",background:"linear-gradient(135deg, var(--color-accent), #34d399)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto var(--space-lg)",boxShadow:"0 0 40px var(--color-accent-glow)"},children:r.jsx("span",{style:{fontSize:"2rem",fontWeight:800,color:"white"},children:"S"})}),r.jsx("span",{className:"text-label",style:{display:"inline-block",padding:"var(--space-xs) var(--space-md)",background:"var(--color-surface)",borderRadius:"var(--radius-full)",marginBottom:"var(--space-md)"},children:"Team Tracker"}),r.jsx("h1",{className:"text-display",style:{marginBottom:"var(--space-sm)"},children:"Welcome to Shotten"}),r.jsx("p",{className:"text-body",children:"Select your profile to continue"})]}),r.jsx("div",{className:"glass-panel",style:{padding:"var(--space-sm)",marginBottom:"var(--space-lg)"},children:(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(k,{size:20,style:{position:"absolute",left:"var(--space-md)",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-tertiary)",pointerEvents:"none"}}),r.jsx("input",{type:"text",placeholder:"Search players...",value:s,onChange:e=>l(e.target.value),className:"glass-input",style:{paddingLeft:"calc(var(--space-md) + 28px)"}})]})}),r.jsx("div",{style:{maxHeight:"calc(100dvh - 420px)",overflowY:"auto",paddingRight:"var(--space-xs)"},className:"scrollbar-hide",children:i?r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-sm)"},children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"glass-panel skeleton",style:{height:72,opacity:1-.15*t}},t))}):(0,r.jsxs)(b,{mode:"popLayout",children:[c.map((e,t)=>r.jsx(I,{player:e,index:t,isSelected:o===e.id,isDisabled:null!==o&&o!==e.id,onSelect:()=>p(e.id)},e.id)),0===c.length&&r.jsx(j.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-caption",style:{textAlign:"center",padding:"var(--space-xl)"},children:"No players found"})]})})]})})}function I({player:e,index:t,isSelected:i,isDisabled:n,onSelect:a}){return(0,r.jsxs)(j.E.button,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:n?.3:1,x:0,scale:i?1.02:1,filter:n?"blur(2px)":"none"},exit:{opacity:0,scale:.95},transition:{delay:.03*t,layout:{type:"spring",stiffness:400,damping:30}},onClick:a,disabled:i||n,className:`glass-panel touch-target ${i?"animate-pulse-glow status-present":""}`,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"var(--space-md) var(--space-lg)",marginBottom:"var(--space-sm)",border:i?"1px solid var(--color-accent)":void 0,boxShadow:i?"var(--shadow-glow)":void 0,cursor:i||n?"default":"pointer"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-md)"},children:[r.jsx("div",{className:"avatar avatar-md",style:{background:i?"var(--color-accent)":"linear-gradient(135deg, #374151, #1f2937)",color:i?"white":"var(--color-text-secondary)"},children:e.name.charAt(0)}),r.jsx("span",{className:"text-headline",style:{color:i?"white":"var(--color-text-primary)"},children:e.name})]}),i?r.jsx(j.E.div,{initial:{scale:0},animate:{scale:1},style:{width:32,height:32,borderRadius:"50%",background:"white",color:"var(--color-accent)",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(S,{size:20})}):r.jsx(S,{size:20,style:{color:"var(--color-text-tertiary)"}})]})}let D=(0,w.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function R(e="medium"){}function W(e){}let T={tap:()=>R("light"),navigate:()=>R("medium"),success:()=>W([10,50,10]),error:()=>W([20,30,20,30,20]),swipe:()=>R("light"),toggle:()=>R("medium")};var B=i(962);let E=(0,w.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),P=(0,w.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),M=(0,w.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var A=i(6728);let N=(0,w.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),F=(0,w.Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),L=(0,w.Z)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);function $({match:e,currentPlayerId:t,allPlayers:i,onUpdate:a,variant:s}){let{updating:l,updateAttendance:o}=(0,z.ii)(),[d,c]=(0,n.useState)({days:0,hours:0,mins:0,secs:0}),[p,g]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),u=(0,n.useMemo)(()=>new Date(e.date+(e.date.endsWith("Z")?"":"Z")).getTime(),[e.date]),y=new Date(u),v=u<Date.now(),w=i.filter(t=>t.teamIds?.includes(e.teamId)).map(t=>{let i=e.attendances?.find(e=>e.playerId===t.id);return{...t,status:i?.status||"Unknown"}}),k=w.find(e=>e.id===t)?.status||"Unknown",C=w.filter(e=>"Present"===e.status),I=w.filter(e=>"Maybe"===e.status),D=y.toLocaleDateString("en-GB",{weekday:"long"}),R=y.getDate(),W=y.toLocaleDateString("en-GB",{month:"short"}).toUpperCase(),B=y.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),M=async i=>{if(k!==i){"Present"===i?T.success():T.tap();try{await o(e.id,t,i,()=>{"Present"===i&&(g(!0),setTimeout(()=>g(!1),1500)),a(e.id,i)})}catch{}}};if(e.location&&encodeURIComponent(e.location),"hero"===s){let i=e.name.split("-"),n=i[0]?.trim()||e.name,a=i[1]?.trim();return(0,r.jsxs)(j.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:30},style:{background:"linear-gradient(165deg, rgba(40, 45, 55, 0.9) 0%, rgba(20, 22, 28, 0.95) 100%)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:28,border:"1px solid rgba(255, 255, 255, 0.08)",overflow:"hidden",position:"relative"},children:[r.jsx("div",{style:{position:"absolute",inset:0,background:"radial-gradient(ellipse at 50% 0%, rgba(48, 209, 88, 0.08) 0%, transparent 60%)",pointerEvents:"none"}}),r.jsx(b,{children:p&&r.jsx(q,{})}),(0,r.jsxs)("div",{style:{position:"relative",zIndex:1,padding:24},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,r.jsxs)("span",{style:{fontSize:"0.9rem",fontWeight:600,color:"white"},children:[D.slice(0,3)," ",R," ",W]}),r.jsx("span",{style:{width:4,height:4,borderRadius:"50%",background:"rgba(255,255,255,0.3)"}}),r.jsx("span",{style:{fontSize:"0.9rem",fontWeight:500,color:"rgba(255,255,255,0.6)"},children:B})]}),!v&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:2,fontSize:"0.8rem",fontWeight:600,color:"#30d158"},children:[d.days>0&&(0,r.jsxs)("span",{children:[d.days,"d "]}),(0,r.jsxs)("span",{children:[String(d.hours).padStart(2,"0"),":"]}),(0,r.jsxs)("span",{children:[String(d.mins).padStart(2,"0"),":"]}),r.jsx("span",{style:{opacity:.7},children:String(d.secs).padStart(2,"0")})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:16,marginBottom:20},children:[r.jsx("div",{style:{flex:1,textAlign:"right"},children:r.jsx("div",{style:{fontSize:a?"1.3rem":"1.5rem",fontWeight:700,color:"white",lineHeight:1.1},children:n})}),a&&r.jsx("div",{style:{width:44,height:44,borderRadius:12,background:"linear-gradient(135deg, #30d158 0%, #25a847 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 16px rgba(48, 209, 88, 0.3)"},children:r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:800,color:"white",letterSpacing:"-0.02em"},children:"VS"})}),a&&r.jsx("div",{style:{flex:1,textAlign:"left"},children:r.jsx("div",{style:{fontSize:"1.3rem",fontWeight:700,color:"white",lineHeight:1.1},children:a})})]}),e.location&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:24},children:[r.jsx(E,{size:14,style:{color:"rgba(255,255,255,0.4)"}}),r.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.4)"},children:e.location})]}),r.jsx("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:20,padding:6,marginBottom:16},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6},children:[r.jsx(O,{type:"yes",selected:"Present"===k,loading:"Present"===l,onClick:()=>M("Present")}),r.jsx(O,{type:"maybe",selected:"Maybe"===k,loading:"Maybe"===l,onClick:()=>M("Maybe")}),r.jsx(O,{type:"no",selected:"NotPresent"===k,loading:"NotPresent"===l,onClick:()=>M("NotPresent")})]})}),m?r.jsx(V,{present:C,maybe:I,notPresent:w.filter(e=>"NotPresent"===e.status),currentPlayerId:t}):(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"12px 0 0"},children:[r.jsx(U,{players:[...C,...I].slice(0,5),currentPlayerId:t,size:"sm"}),C.length>0&&(0,r.jsxs)("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:[C.length," going"]})]}),(0,r.jsxs)(j.E.button,{onClick:()=>{T.tap(),x(!0)},whileTap:{scale:.98},style:{width:"100%",marginTop:16,padding:"12px 16px",background:"rgba(255, 255, 255, 0.06)",border:"0.5px solid rgba(255, 255, 255, 0.1)",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:"white"},children:[r.jsx("span",{style:{fontSize:"0.85rem",fontWeight:500},children:"View Squad & Details"}),r.jsx(S,{size:16,style:{color:"rgba(255,255,255,0.4)"}})]})]}),r.jsx(b,{children:h&&r.jsx(_,{match:e,dateObj:y,roster:w,currentPlayerId:t,onClose:()=>x(!1)})})]})}let A=y.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}).toUpperCase();return(0,r.jsxs)(j.E.div,{style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.1)",padding:20,height:"100%",display:"flex",flexDirection:"column"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[r.jsx("span",{style:{fontSize:"0.7rem",fontWeight:600,color:"#30d158",letterSpacing:"0.03em"},children:A}),r.jsx(H,{status:k})]}),r.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:600,color:"white",margin:0,marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name.replace(/-/g," – ")}),r.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.4)",marginBottom:16},children:B}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:"auto"},children:[r.jsx(Z,{type:"yes",selected:"Present"===k,loading:"Present"===l,onClick:()=>M("Present"),compact:!0}),r.jsx(Z,{type:"maybe",selected:"Maybe"===k,loading:"Maybe"===l,onClick:()=>M("Maybe"),compact:!0}),r.jsx(Z,{type:"no",selected:"NotPresent"===k,loading:"NotPresent"===l,onClick:()=>M("NotPresent"),compact:!0})]}),m?r.jsx("div",{style:{marginTop:12,paddingTop:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.08)"},children:r.jsx(V,{present:C,maybe:I,notPresent:w.filter(e=>"NotPresent"===e.status),currentPlayerId:t})}):(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:12,paddingTop:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.08)"},children:[r.jsx(P,{size:12,style:{color:"rgba(255,255,255,0.35)"}}),(0,r.jsxs)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[C.length," in"]}),r.jsx(U,{players:C.slice(0,3),currentPlayerId:t,size:"sm"})]}),(0,r.jsxs)(j.E.button,{onClick:()=>{T.tap(),x(!0)},whileTap:{scale:.97},style:{width:"100%",marginTop:10,padding:"10px 12px",background:"rgba(255, 255, 255, 0.04)",border:"0.5px solid rgba(255, 255, 255, 0.08)",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",color:"white"},children:[r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:"View details"}),r.jsx(S,{size:12,style:{color:"rgba(255,255,255,0.3)"}})]}),r.jsx(b,{children:h&&r.jsx(_,{match:e,dateObj:y,roster:w,currentPlayerId:t,onClose:()=>x(!1)})})]})}function Z({type:e,selected:t,loading:i,onClick:n,compact:a=!1}){let{icon:s,color:l,bgSelected:o,borderSelected:d}={yes:{icon:r.jsx(M,{size:a?18:22}),color:"#30d158",bgSelected:"rgba(48, 209, 88, 0.25)",borderSelected:"rgba(48, 209, 88, 0.5)"},maybe:{icon:r.jsx(A.Z,{size:a?18:22}),color:"#ffd60a",bgSelected:"rgba(255, 214, 10, 0.15)",borderSelected:"rgba(255, 214, 10, 0.4)"},no:{icon:r.jsx(N,{size:a?18:22}),color:"#ff453a",bgSelected:"rgba(255, 69, 58, 0.15)",borderSelected:"rgba(255, 69, 58, 0.4)"}}[e];return r.jsx(j.E.button,{onClick:n,whileTap:{scale:.92},disabled:i,style:{height:a?48:56,border:"none",borderRadius:14,background:t?o:"rgba(255, 255, 255, 0.06)",color:t?l:"rgba(255, 255, 255, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:t?`inset 0 0 0 1.5px ${d}`:"inset 0 0 0 0.5px rgba(255, 255, 255, 0.1)"},children:i?r.jsx("div",{style:{width:16,height:16,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:l,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):s})}function O({type:e,selected:t,loading:i,onClick:n}){let{icon:a,color:s,bg:l}={yes:{icon:r.jsx(M,{size:18}),color:"#30d158",bg:"rgba(48, 209, 88, 0.2)"},maybe:{icon:r.jsx(A.Z,{size:18}),color:"#ffd60a",bg:"rgba(255, 214, 10, 0.15)"},no:{icon:r.jsx(N,{size:18}),color:"#ff453a",bg:"rgba(255, 69, 58, 0.15)"}}[e];return r.jsx(j.E.button,{onClick:n,whileTap:{scale:.92},disabled:i,style:{height:44,border:"none",borderRadius:12,background:t?l:"rgba(255, 255, 255, 0.06)",color:t?s:"rgba(255, 255, 255, 0.35)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:t?`inset 0 0 0 1.5px ${s}40`:"none"},children:i?r.jsx("div",{style:{width:14,height:14,border:"2px solid rgba(255,255,255,0.2)",borderTopColor:s,borderRadius:"50%",animation:"spin 0.8s linear infinite"}}):a})}function H({status:e}){let t={Present:{icon:r.jsx(M,{size:12}),color:"#30d158"},Maybe:{icon:r.jsx(A.Z,{size:12}),color:"#ffd60a"},NotPresent:{icon:r.jsx(N,{size:12}),color:"#ff453a"}}[e];return t?r.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:t.color,display:"flex",alignItems:"center",justifyContent:"center",color:"Present"===e?"black":"white"},children:t.icon}):r.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:"rgba(255,255,255,0.1)"}})}function U({players:e,currentPlayerId:t,size:i="md"}){let n="sm"===i?26:34,a="sm"===i?"0.65rem":"0.8rem";return r.jsx("div",{style:{display:"flex",marginLeft:4},children:e.map((e,i)=>{let s="Present"===e.status?"#30d158":"#ffd60a",l=e.id===t;return r.jsx(j.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.04*i},style:{width:n,height:n,borderRadius:"50%",background:s,color:"black",display:"flex",alignItems:"center",justifyContent:"center",fontSize:a,fontWeight:700,marginLeft:i>0?-10:0,border:l?"2px solid white":"2px solid rgba(20,20,25,0.9)",boxShadow:l?"0 0 12px rgba(255,255,255,0.3)":"none"},title:e.name,children:e.name.charAt(0)},e.id)})})}function V({present:e,maybe:t,notPresent:i,currentPlayerId:n}){let a=e=>e.id===n?`${e.name} (you)`:e.name,s=e=>0===e.length?null:e.map(a).join(", ");return(0,r.jsxs)("div",{style:{padding:"12px 0 0",display:"flex",flexDirection:"column",gap:6},children:[e.length>0&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#30d158",minWidth:50},children:"Coming"}),r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",flex:1,lineHeight:1.4},children:s(e)})]}),t.length>0&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ffd60a",minWidth:50},children:"Maybe"}),r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",flex:1,lineHeight:1.4},children:s(t)})]}),i.length>0&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ff453a",minWidth:50},children:"Out"}),r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",flex:1,lineHeight:1.4},children:s(i)})]}),0===e.length&&0===t.length&&0===i.length&&r.jsx("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:"No responses yet"})]})}function q(){let e=["#30d158","#0a84ff","#5e5ce6","#ff453a","#ffd60a"];return r.jsx("div",{style:{position:"absolute",inset:0,overflow:"hidden",pointerEvents:"none",zIndex:50},children:[...Array(25)].map((t,i)=>{let n=i/25*Math.PI*2,a=100+150*Math.random();return r.jsx(j.E.div,{initial:{x:"50%",y:"60%",scale:0,opacity:1},animate:{x:`calc(50% + ${Math.cos(n)*a}px)`,y:`calc(60% + ${Math.sin(n)*a}px)`,scale:[0,1.5,0],opacity:[1,1,0],rotate:720*Math.random()},transition:{duration:1,ease:"easeOut"},style:{position:"absolute",width:8+6*Math.random(),height:8+6*Math.random(),borderRadius:Math.random()>.5?"50%":2,background:e[i%e.length]}},i)})})}function G({icon:e,title:t,subtitle:i,href:n,onClick:a}){let s=(0,r.jsxs)(j.E.div,{whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:12,padding:14,background:"rgba(255, 255, 255, 0.04)",borderRadius:14,border:"0.5px solid rgba(255, 255, 255, 0.08)",cursor:"pointer",textDecoration:"none"},children:[r.jsx("span",{style:{fontSize:"1.5rem"},children:e}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"0.95rem",fontWeight:600,color:"white"},children:t}),r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i})]}),r.jsx(S,{size:16,style:{color:"rgba(255,255,255,0.3)"}})]});return n?r.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:s}):r.jsx("div",{onClick:a,children:s})}function _({match:e,dateObj:t,roster:i,currentPlayerId:a,onClose:s}){let[l,o]=(0,n.useState)("squad"),[d,c]=(0,n.useState)(!1),p=(0,n.useRef)(null),g=(0,n.useRef)(null),h=(0,n.useRef)(null),x=e=>{if(p.current){let t="squad"===e?0:p.current.clientWidth;p.current.scrollTo({left:t,behavior:"smooth"})}};if("undefined"==typeof document)return null;let m=i.filter(e=>"Present"===e.status),f=i.filter(e=>"Maybe"===e.status),u=i.filter(e=>"NotPresent"===e.status),y=i.filter(e=>"Unknown"===e.status),v="Present"===i.find(e=>e.id===a)?.status?`${e.name} (Confirmed)`:e.name,w=["FC Degrad\xe9","Wille ma ni kunne"],k=e.name.split("-").map(e=>e.trim()),z=k.find(e=>!w.some(t=>e.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.toLowerCase())))||k[1]||null,[C,I]=(0,n.useState)(null),[D,R]=(0,n.useState)([]),[W,T]=(0,n.useState)([]),[E,P]=(0,n.useState)(!1),M=e.location?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.location)}`:null,A=e.location?`https://maps.apple.com/?q=${encodeURIComponent(e.location)}`:null,$=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(v)}&dates=${t.toISOString().replace(/[-:]/g,"").split(".")[0]}Z/${new Date(t.getTime()+72e5).toISOString().replace(/[-:]/g,"").split(".")[0]}Z&location=${encodeURIComponent(e.location||"")}`,Z=C&&0!==W.length?W.filter(e=>"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5).map(e=>{let t=e.homeTeam.toLowerCase().includes(C.name.toLowerCase().slice(0,5))||C.name.toLowerCase().includes(e.homeTeam.toLowerCase().slice(0,5)),i=t?e.homeScore:e.awayScore,r=t?e.awayScore:e.homeScore;return i>r?"W":i<r?"L":"D"}):[],O=(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:400,damping:30},style:{width:"100%",maxWidth:360,height:"80vh",maxHeight:"calc(100dvh - 100px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:20,borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)"},children:[r.jsx("h2",{style:{fontSize:"1.1rem",fontWeight:700,margin:0,color:"white",marginBottom:4},children:e.name.replace(/-/g," vs ")}),(0,r.jsxs)("p",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)",margin:0},children:[t.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})," • ",t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),r.jsx("div",{style:{display:"flex",padding:"12px 16px",gap:8,borderBottom:"0.5px solid rgba(255, 255, 255, 0.08)"},children:["squad","details"].map(e=>r.jsx(j.E.button,{onClick:()=>x(e),whileTap:{scale:.95},style:{flex:1,padding:"10px 16px",background:l===e?"rgba(255, 255, 255, 0.1)":"transparent",border:"none",borderRadius:10,color:l===e?"white":"rgba(255,255,255,0.5)",fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:"squad"===e?`Squad (${m.length+f.length})`:"Details"},e))}),(0,r.jsxs)("div",{ref:p,className:"scrollbar-hide",style:{display:"flex",width:"100%",flex:1,overflowX:"auto",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},children:[r.jsx("div",{ref:g,"data-view":"squad",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[{title:"Coming",players:m,color:"#30d158",emoji:"✅"},{title:"Maybe",players:f,color:"#ffd60a",emoji:"\uD83E\uDD14"},{title:"Not Coming",players:u,color:"#ff453a",emoji:"❌"},{title:"No Response",players:y,color:"rgba(255,255,255,0.4)",emoji:"❓"}].map(({title:e,players:t,color:i,emoji:n})=>t.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8},children:[r.jsx("span",{children:n}),(0,r.jsxs)("span",{style:{fontSize:"0.75rem",fontWeight:600,color:i,textTransform:"uppercase",letterSpacing:"0.03em"},children:[e," (",t.length,")"]})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:t.map(t=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:t.id===a?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.03)",borderRadius:12,border:t.id===a?"0.5px solid rgba(255, 255, 255, 0.15)":"0.5px solid transparent"},children:[r.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:i,color:"No Response"===e?"white":"black",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700,flexShrink:0},children:t.name.charAt(0)}),(0,r.jsxs)("span",{style:{fontSize:"0.9rem",fontWeight:t.id===a?600:400,color:"white"},children:[t.name,t.id===a&&r.jsx("span",{style:{marginLeft:6,fontSize:"0.7rem",color:"rgba(255,255,255,0.4)"},children:"(you)"})]})]},t.id))})]},e))})}),r.jsx("div",{ref:h,"data-view":"details",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.location&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:4},children:"Location"}),r.jsx(G,{icon:"\uD83D\uDCCD",title:"Apple Maps",subtitle:e.location,href:A}),r.jsx(G,{icon:"\uD83D\uDDFA️",title:"Google Maps",subtitle:e.location,href:M})]}),z&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginTop:12,marginBottom:8},children:"Opponent"}),E?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:20,color:"rgba(255,255,255,0.5)"},children:[r.jsx(F,{className:"animate-spin",size:20,style:{marginRight:8}})," Loading team data..."]}):C?(0,r.jsxs)("div",{style:{background:"rgba(255,255,255,0.04)",borderRadius:16,border:"0.5px solid rgba(255,255,255,0.1)",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:12,padding:12},children:[C.imageBase64?r.jsx("img",{src:C.imageBase64,alt:C.name,onClick:()=>c(!0),style:{width:64,height:64,borderRadius:12,objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer"}}):r.jsx("div",{style:{width:64,height:64,borderRadius:12,background:"linear-gradient(135deg, #5e5ce6, #0a84ff)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:700,color:"white"},children:C.name.charAt(0)}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"1rem",fontWeight:700,color:"white"},children:C.name}),C.leagueName&&r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)",marginTop:2},children:C.leagueName}),C.colors&&(0,r.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",marginTop:4},children:["\uD83C\uDFA8 ",C.colors]})]})]}),Z.length>0&&(0,r.jsxs)("div",{style:{padding:"0 12px 12px 12px"},children:[r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:8},children:"Recent Form"}),r.jsx("div",{style:{display:"flex",gap:6},children:Z.map((e,t)=>r.jsx("div",{style:{width:32,height:32,borderRadius:8,background:"W"===e?"rgba(48, 209, 88, 0.2)":"L"===e?"rgba(255, 69, 58, 0.2)":"rgba(255, 214, 10, 0.2)",color:"W"===e?"#30d158":"L"===e?"#ff453a":"#ffd60a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700},children:e},t))})]}),void 0!==C.rank&&(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:1,background:"rgba(255,255,255,0.05)",padding:1},children:[(0,r.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,r.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"#ffd60a"},children:["#",C.rank]}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"RANK"})]}),(0,r.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white"},children:C.points||0}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"PTS"})]}),(0,r.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,r.jsxs)("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"white"},children:[r.jsx("span",{style:{color:"#30d158"},children:C.wins||0}),r.jsx("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),r.jsx("span",{style:{color:"#ffd60a"},children:C.draws||0}),r.jsx("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),r.jsx("span",{style:{color:"#ff453a"},children:C.losses||0})]}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"W/D/L"})]}),(0,r.jsxs)("div",{style:{background:"rgba(25,25,30,0.9)",padding:10,textAlign:"center"},children:[(0,r.jsxs)("div",{style:{fontSize:"0.9rem",fontWeight:600,color:(C.goalDifference||0)>=0?"#30d158":"#ff453a"},children:[(C.goalDifference||0)>=0?"+":"",C.goalDifference||0]}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:"GD"})]})]}),(C.manager||C.description)&&(0,r.jsxs)("div",{style:{padding:12,borderTop:"0.5px solid rgba(255,255,255,0.05)"},children:[C.manager&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:C.description?8:0},children:[r.jsx(L,{size:14,style:{color:"rgba(255,255,255,0.4)"}}),r.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.6)"},children:C.manager})]}),C.description&&(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",fontStyle:"italic",lineHeight:1.4},children:['"',C.description,'"']})]}),D.length>0&&(0,r.jsxs)("div",{style:{padding:12,borderTop:"0.5px solid rgba(255,255,255,0.05)"},children:[r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",marginBottom:8,textTransform:"uppercase"},children:"Top Scorers"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:D.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"6px 8px",background:0===t?"rgba(255,214,10,0.1)":"transparent",borderRadius:8},children:[r.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:0===t?"#ffd60a":"rgba(255,255,255,0.1)",color:0===t?"black":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:700,flexShrink:0},children:e.number||t+1}),r.jsx("div",{style:{flex:1,fontSize:"0.8rem",color:"white"},children:e.name}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,fontSize:"0.75rem"},children:[(0,r.jsxs)("span",{style:{color:"#30d158"},children:["⚽ ",e.goals]}),(0,r.jsxs)("span",{style:{color:"#0a84ff"},children:["\uD83C\uDFAF ",e.assists]})]})]},e.externalId))})]}),(0,r.jsxs)("a",{href:`https://www.lzvcup.be/teams/detail/${C.externalId}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:12,gap:6,background:"rgba(10,132,255,0.15)",borderTop:"0.5px solid rgba(255,255,255,0.05)",color:"#0a84ff",fontSize:"0.8rem",fontWeight:600,textDecoration:"none"},children:["View on LZV Cup ",r.jsx(S,{size:14})]})]}):r.jsx("div",{style:{padding:16,textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.85rem"},children:"Team data not available"})]}),r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginTop:12,marginBottom:4},children:"Calendar"}),r.jsx(G,{icon:"\uD83D\uDCC5",title:"Add to Calendar",subtitle:"Download .ics file",onClick:()=>{let i=t.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",r=new Date(t.getTime()+72e5).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",n=new Blob([`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
DTSTART:${i}
DTEND:${r}
SUMMARY:${v}
LOCATION:${e.location||""}
END:VEVENT
END:VCALENDAR`],{type:"text/calendar"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=`${e.name.replace(/\s/g,"_")}.ics`,s.click(),URL.revokeObjectURL(a)}}),r.jsx(G,{icon:"\uD83D\uDCC6",title:"Google Calendar",subtitle:t.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),href:$})]})})]}),r.jsx("div",{style:{padding:"8px 16px 16px"},children:r.jsx(j.E.button,{onClick:s,whileTap:{scale:.98},style:{width:"100%",padding:14,background:"rgba(255, 255, 255, 0.08)",border:"none",borderRadius:14,color:"white",fontSize:"1rem",fontWeight:600,cursor:"pointer"},children:"Done"})})]})}),r.jsx(b,{children:d&&C?.imageBase64&&(0,r.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!1),style:{position:"fixed",inset:0,zIndex:10002,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",padding:20},children:[r.jsx(j.E.img,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},src:C.imageBase64,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:16,objectFit:"contain"}}),r.jsx("button",{onClick:()=>c(!1),style:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:36,height:36,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:r.jsx(N,{size:20})})]})})]});return(0,B.createPortal)(O,document.body)}let Y=[{name:"Club Legend",emoji:"\uD83D\uDC51",minScore:1300,color:"#ffd700"},{name:"Ultra",emoji:"\uD83D\uDCE2",minScore:1100,color:"#30d158"},{name:"Plastic Fan",emoji:"\uD83E\uDD21",minScore:1e3,color:"#0a84ff"},{name:"Bench Warmer",emoji:"\uD83E\uDEB5",minScore:800,color:"#ff9f0a"},{name:"Casual",emoji:"\uD83C\uDF7A",minScore:500,color:"#ff453a"},{name:"Professional Ghost",emoji:"\uD83D\uDC7B",minScore:0,color:"#8e8e93"}],X={present:50,maybe:-20,notPresent:-50,ghost:-100,base:1e3};function K({matches:e,players:t,currentPlayerId:i}){let[a,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),d=t.map(t=>({...t,stats:function(e,t){var i;let r=t.filter(t=>{let i=new Date(t.date)<new Date,r=e.teamIds.includes(t.teamId),n=t.attendances?.some(e=>"Present"===e.status);return i&&r&&n}),n=[...r].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),a=X.base,s=0,l=0,o=0,d=0,c=[];n.forEach(t=>{let i,r;let n=t.attendances?.find(t=>t.playerId===e.id);n?"Present"===n.status?(i="present",r=X.present,s++):"Maybe"===n.status?(i="maybe",r=X.maybe,l++):(i="notPresent",r=X.notPresent,o++):(i="ghost",r=X.ghost,d++),a+=r,c.push({matchId:t.id,matchName:t.name,date:new Date(t.date),status:i,points:r})});let p=c.slice(0,5).map(e=>e.status);return{score:a,presentCount:s,maybeCount:l,absentCount:o,ghostCount:d,totalMatches:r.length,rank:(i=a,Y.find(e=>i>=e.minScore)||Y[Y.length-1]),recentForm:p,matchResults:c}}(t,e)})).sort((e,t)=>t.stats.score-e.stats.score),c=d[0],p=d.length>0?d.reduce((e,t)=>e.stats.ghostCount>t.stats.ghostCount?e:t):null,g=d.length>0?d.reduce((e,t)=>e.stats.maybeCount>t.stats.maybeCount?e:t):null;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)(j.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,r.jsxs)("div",{style:{marginBottom:20},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Social Credit"}),(0,r.jsxs)(j.E.button,{onClick:()=>s(!0),whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:4,padding:"6px 12px",background:"rgba(255, 255, 255, 0.08)",border:"none",borderRadius:20,color:"rgba(255,255,255,0.6)",fontSize:"0.75rem",cursor:"pointer"},children:[r.jsx(A.Z,{size:14}),"Rules"]})]}),r.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Leaderboard"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginBottom:16},children:[r.jsx(J,{icon:"\uD83C\uDFC6",title:"THE LEGEND",player:c?.name}),r.jsx(J,{icon:"\uD83D\uDC7B",title:"CASPER",player:p?.name}),r.jsx(J,{icon:"\uD83E\uDD14",title:"MISS MAYBE",player:g?.name})]}),r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden"},children:d.map((e,t)=>(0,r.jsxs)(j.E.div,{onClick:()=>o(e),whileTap:{scale:.98},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.02*t},style:{display:"flex",alignItems:"center",gap:12,padding:"14px 16px",background:e.id===i?"rgba(10, 132, 255, 0.15)":"transparent",borderLeft:e.id===i?"3px solid #0a84ff":"3px solid transparent",cursor:"pointer",borderBottom:t<d.length-1?"0.5px solid rgba(255, 255, 255, 0.06)":"none"},children:[r.jsx("span",{style:{width:28,fontSize:t<3?"1.1rem":"0.9rem",fontWeight:600,color:0===t?"#ffd700":1===t?"#c0c0c0":2===t?"#cd7f32":"rgba(255,255,255,0.4)",textAlign:"center"},children:t<3?["\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"][t]:`#${t+1}`}),r.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:e.stats.rank.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",flexShrink:0},children:e.stats.rank.emoji}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[r.jsx("div",{style:{fontSize:"1rem",fontWeight:600,color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),r.jsx("div",{style:{display:"flex",gap:3,marginTop:4},children:e.stats.recentForm.map((e,t)=>r.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"present"===e?"#30d158":"maybe"===e?"#ffd60a":"notPresent"===e?"#ff453a":"#8e8e93"}},t))})]}),r.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,color:"white"},children:e.stats.score})]},e.id))})]}),r.jsx(b,{children:a&&r.jsx(et,{onClose:()=>s(!1)})}),r.jsx(b,{children:l&&r.jsx(Q,{player:l,rank:d.findIndex(e=>e.id===l.id)+1,onClose:()=>o(null)})})]})}function J({icon:e,title:t,player:i}){return(0,r.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.06)",borderRadius:14,border:"0.5px solid rgba(255, 255, 255, 0.08)",padding:"12px 10px",textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.25rem",marginBottom:4},children:e}),r.jsx("div",{style:{fontSize:"0.55rem",fontWeight:700,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:4},children:t}),r.jsx("div",{style:{fontSize:"0.9rem",fontWeight:600,color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i})]})}function Q({player:e,rank:t,onClose:i}){if("undefined"==typeof document)return null;let n=(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},style:{width:"100%",maxWidth:360,maxHeight:"calc(100dvh - 120px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:"20px 20px 16px",borderBottom:"0.5px solid rgba(255, 255, 255, 0.1)",flexShrink:0},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",marginBottom:4},children:["#",t," \xb7 ",e.stats.rank.emoji," ",e.stats.rank.name]}),r.jsx("h2",{style:{fontSize:"1.4rem",fontWeight:700,margin:0,color:"white"},children:e.name})]}),r.jsx(j.E.button,{onClick:i,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:9999,border:"none",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(N,{size:16})})]}),(0,r.jsxs)("div",{style:{marginTop:16,padding:14,background:"rgba(255,255,255,0.04)",borderRadius:14,textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"2.25rem",fontWeight:800,color:e.stats.rank.color},children:e.stats.score}),r.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:"Shotten Points"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:[r.jsx(ee,{label:"Present",value:e.stats.presentCount,color:"#30d158"}),r.jsx(ee,{label:"Maybe",value:e.stats.maybeCount,color:"#ffd60a"}),r.jsx(ee,{label:"Absent",value:e.stats.absentCount,color:"#ff453a"}),r.jsx(ee,{label:"Ghost",value:e.stats.ghostCount,color:"#8e8e93"})]})]}),(0,r.jsxs)("div",{style:{padding:"12px 16px 20px",overflowY:"auto",flex:1},children:[r.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:"Match History"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:e.stats.matchResults.map(e=>(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",background:"rgba(255,255,255,0.04)",borderRadius:10},children:[(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[r.jsx("div",{style:{fontSize:"0.85rem",color:"white",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.matchName.replace(/-/g," – ")}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)"},children:e.date.toLocaleDateString()})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,flexShrink:0},children:[r.jsx("span",{style:{fontSize:"0.9rem"},children:"present"===e.status?"✅":"maybe"===e.status?"⚠️":"notPresent"===e.status?"❌":"\uD83D\uDC7B"}),(0,r.jsxs)("span",{style:{fontWeight:700,fontSize:"0.9rem",color:e.points>0?"#30d158":"#ff453a"},children:[e.points>0?"+":"",e.points]})]})]},e.matchId))})]})]})})]});return(0,B.createPortal)(n,document.body)}function ee({label:e,value:t,color:i}){return(0,r.jsxs)("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1rem",fontWeight:700,color:i},children:t}),r.jsx("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:e})]})}function et({onClose:e}){if("undefined"==typeof document)return null;let t=(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},style:{width:"100%",maxWidth:340,maxHeight:"calc(100dvh - 120px)",overflowY:"auto",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",padding:20},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[r.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,margin:0,color:"white"},children:"How it works \uD83E\uDD21"}),r.jsx(j.E.button,{onClick:e,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:9999,border:"none",background:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.6)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(N,{size:16})})]}),(0,r.jsxs)("div",{style:{marginBottom:20},children:[r.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",marginBottom:10},children:"Points"}),(0,r.jsxs)("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",marginBottom:12},children:["Start with ",r.jsx("strong",{style:{color:"white"},children:"1000"})," points."]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[r.jsx(ei,{emoji:"✅",label:"Present",points:"+50",color:"#30d158"}),r.jsx(ei,{emoji:"⚠️",label:"Maybe",points:"-20",color:"#ffd60a"}),r.jsx(ei,{emoji:"❌",label:"Absent",points:"-50",color:"#ff453a"}),r.jsx(ei,{emoji:"\uD83D\uDC7B",label:"Ghost",points:"-100",color:"#8e8e93"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",marginBottom:10},children:"Ranks"}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:Y.map(e=>(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",background:"rgba(255, 255, 255, 0.04)",borderRadius:8},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[r.jsx("span",{style:{fontSize:"0.9rem"},children:e.emoji}),r.jsx("span",{style:{color:e.color,fontWeight:500,fontSize:"0.85rem"},children:e.name})]}),(0,r.jsxs)("span",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[e.minScore,"+"]})]},e.name))})]}),r.jsx(j.E.button,{onClick:e,whileTap:{scale:.98},style:{width:"100%",marginTop:20,padding:"12px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:12,color:"white",fontSize:"0.95rem",fontWeight:600,cursor:"pointer"},children:"Got it"})]})})]});return(0,B.createPortal)(t,document.body)}function ei({emoji:e,label:t,points:i,color:n}){return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",background:"rgba(255, 255, 255, 0.04)",borderRadius:8},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[r.jsx("span",{children:e}),r.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"0.85rem"},children:t})]}),r.jsx("span",{style:{fontWeight:700,color:n,fontSize:"0.85rem"},children:i})]})}let er=(0,w.Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),en=(0,w.Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),ea=(0,w.Z)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),es=(0,w.Z)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),el=(0,w.Z)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),eo=(0,w.Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),ed=(0,w.Z)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ec=(0,w.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ep=(0,w.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eg=(0,w.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),eh="shotten_last_version_check",ex="shotten_update_available",em="shotten_current_version";function ef(){let[e,t]=(0,n.useState)(null),[i,r]=(0,n.useState)(null),[a,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null);(0,n.useRef)(!1);let p=(0,n.useCallback)(async()=>{if(!l){o(!0);try{let e=await fetch(`/version.json?t=${Date.now()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!e.ok)throw Error("Failed to fetch version");let i=await e.json();r(i.version);let n=new Date;localStorage.setItem(eh,JSON.stringify(n.toISOString())),c(n);let a=localStorage.getItem(em);a?i.version!==a?(s(!0),localStorage.setItem(ex,i.version)):(s(!1),localStorage.removeItem(ex)):(localStorage.setItem(em,i.version),t(i.version),s(!1),localStorage.removeItem(ex))}catch(e){console.error("Version check failed:",e)}finally{o(!1)}}},[l]),g=(0,n.useCallback)(async()=>{o(!0);try{if("serviceWorker"in navigator)for(let e of(await navigator.serviceWorker.getRegistrations()))await e.update();if(localStorage.removeItem(eh),localStorage.removeItem(ex),i&&localStorage.setItem(em,i),"undefined"!=typeof caches){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}window.location.reload()}catch(e){console.error("Update failed:",e),o(!1)}},[i]);return{currentVersion:e,latestVersion:i,hasUpdate:a,isChecking:l,checkForUpdates:p,updateApp:g,lastChecked:d}}function eu(){let{hasUpdate:e,isChecking:t,updateApp:i,lastChecked:n}=ef();return e?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[r.jsx("button",{onClick:i,disabled:t,style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:600,color:"#000",background:"#30d158",border:"none",borderRadius:8,cursor:t?"wait":"pointer",opacity:t?.7:1},children:t?"Updating...":"Update"}),r.jsx("span",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.5)"},children:n&&`Last checked: ${n.toLocaleTimeString()}`})]}):null}let ey=(0,w.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),eb=(0,w.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function ej({isOpen:e,onClose:t}){let{players:i,teams:a,loading:s,saving:l,refresh:o,addPlayer:d,removePlayer:c,toggleTeam:p,editPlayer:g}=(0,z.Oz)(),[h,x]=(0,n.useState)(null),[m,f]=(0,n.useState)(""),[u,y]=(0,n.useState)(""),[v,w]=(0,n.useState)(!1),[k,S]=(0,n.useState)(null),C=(0,n.useRef)(null),I=(0,n.useRef)(null),D=e=>{T.tap(),x(e.id),f(e.name)},R=async e=>{m.trim()&&m.trim()!==e.name&&(await g(e.id,m.trim(),e.teamIds),T.success()),x(null),f("")},W=async(e,t)=>{T.toggle(),await p(e,t)},B=async()=>{u.trim()&&(await d(u.trim()),T.success(),y(""),w(!1))},E=async e=>{T.error(),await c(e),S(null)},P=()=>{T.tap(),t()};return r.jsx(b,{children:e&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:P,style:{position:"fixed",inset:0,zIndex:50,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}),(0,r.jsxs)(j.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},style:{position:"fixed",bottom:0,left:0,right:0,zIndex:51,background:"#1c1c1e",borderTopLeftRadius:20,borderTopRightRadius:20,maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 -10px 40px rgba(0,0,0,0.5)"},children:[r.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"12px 0 8px"},children:r.jsx("div",{style:{width:36,height:5,borderRadius:3,background:"rgba(255,255,255,0.3)"}})}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 20px 16px",borderBottom:"0.5px solid rgba(255,255,255,0.1)"},children:[r.jsx("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:700,color:"white"},children:"Manage Players"}),r.jsx(j.E.button,{onClick:P,whileTap:{scale:.9},style:{width:32,height:32,borderRadius:"50%",background:"rgba(255,255,255,0.1)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255,255,255,0.6)"},children:r.jsx(N,{size:18})})]}),s?r.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:40},children:r.jsx(F,{size:32,style:{color:"#0a84ff",animation:"spin 1s linear infinite"}})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:`1fr ${a.map(()=>"60px").join(" ")} 44px`,gap:8,padding:"12px 20px",background:"rgba(0,0,0,0.2)",borderBottom:"0.5px solid rgba(255,255,255,0.1)",position:"sticky",top:0},children:[r.jsx("div",{style:{fontSize:"0.75rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase"},children:"Name"}),a.map(e=>r.jsx("div",{style:{fontSize:"0.65rem",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.name,children:e.name.substring(0,8)},e.id)),r.jsx("div",{})]}),(0,r.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"0 20px"},children:[i.map(e=>(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:`1fr ${a.map(()=>"60px").join(" ")} 44px`,gap:8,alignItems:"center",padding:"14px 0",borderBottom:"0.5px solid rgba(255,255,255,0.06)"},children:[h===e.id?r.jsx("input",{ref:C,type:"text",value:m,onChange:e=>f(e.target.value),onBlur:()=>R(e),onKeyDown:t=>{"Enter"===t.key&&R(e),"Escape"===t.key&&(x(null),f(""))},style:{background:"rgba(255,255,255,0.1)",border:"1px solid #0a84ff",borderRadius:8,padding:"8px 12px",color:"white",fontSize:"1rem",outline:"none",width:"100%"}}):r.jsx("div",{onClick:()=>D(e),style:{color:"white",fontSize:"1rem",fontWeight:500,cursor:"pointer",padding:"8px 0"},children:e.name}),a.map(t=>{let i=e.teamIds.includes(t.id);return r.jsx(j.E.button,{onClick:()=>W(e,t.id),disabled:l,whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:i?"rgba(48, 209, 88, 0.2)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",cursor:l?"wait":"pointer",margin:"0 auto"},children:i&&r.jsx(M,{size:20,style:{color:"#30d158"}})},t.id)}),k===e.id?r.jsx(j.E.button,{onClick:()=>E(e.id),whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"#ff453a",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:r.jsx(M,{size:18})}):r.jsx(j.E.button,{onClick:()=>{T.tap(),S(e.id),setTimeout(()=>S(null),3e3)},whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"rgba(255, 69, 58, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ff453a"},children:r.jsx(ey,{size:18})})]},e.id)),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:`1fr ${a.map(()=>"60px").join(" ")} 44px`,gap:8,alignItems:"center",padding:"14px 0 24px"},children:[v?r.jsx("input",{ref:I,type:"text",placeholder:"Player name...",value:u,onChange:e=>y(e.target.value),onBlur:()=>{u.trim()||w(!1)},onKeyDown:e=>{"Enter"===e.key&&B(),"Escape"===e.key&&(w(!1),y(""))},style:{background:"rgba(255,255,255,0.1)",border:"1px solid #0a84ff",borderRadius:8,padding:"8px 12px",color:"white",fontSize:"1rem",outline:"none",width:"100%"}}):(0,r.jsxs)(j.E.button,{onClick:()=>{T.tap(),w(!0)},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:8,padding:"10px 0",background:"none",border:"none",cursor:"pointer",color:"#0a84ff",fontSize:"1rem",fontWeight:500},children:[r.jsx(eb,{size:18}),"Add new player..."]}),a.map(e=>r.jsx("div",{},e.id)),v&&u.trim()?r.jsx(j.E.button,{onClick:B,whileTap:{scale:.9},style:{width:44,height:44,borderRadius:10,border:"none",background:"#30d158",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:r.jsx(M,{size:18})}):r.jsx("div",{})]})]}),r.jsx("div",{style:{height:"env(safe-area-inset-bottom, 20px)",background:"#1c1c1e"}})]})]})]})})}var ev=i(434);function ew({onLogout:e,onPlayerManagementOpenChange:t}){let[i,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),[c,p]=(0,n.useState)(!0),[g,h]=(0,n.useState)(!1),[x,m]=(0,n.useState)(!1),{hasUpdate:f,updateApp:u,isChecking:y}=ef(),b=async()=>{T.toggle(),!o&&"Notification"in window?"granted"===await Notification.requestPermission()&&(d(!0),localStorage.setItem("notificationsEnabled","true")):(d(!o),localStorage.setItem("notificationsEnabled",(!o).toString()))};return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)(j.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,r.jsxs)("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[r.jsx(er,{size:16,style:{color:"#0a84ff"}}),r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Preferences"})]}),r.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Settings"})]}),r.jsx(eu,{})]}),(0,r.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[r.jsx(ek,{icon:r.jsx(en,{size:20}),iconBg:"rgba(255, 159, 10, 0.15)",iconColor:"#ff9f0a",title:"Notifications",subtitle:o?"Enabled":"Disabled",toggle:!0,toggleValue:o,onToggle:b,hasBorder:!0}),r.jsx(ek,{icon:r.jsx(ea,{size:20}),iconBg:"rgba(175, 82, 222, 0.15)",iconColor:"#af52de",title:"Haptic Feedback",subtitle:"Vibration on actions",toggle:!0,toggleValue:c,onToggle:()=>{let e=!c;p(e),localStorage.setItem("hapticFeedback",e.toString()),e&&T.toggle()},hasBorder:!0}),r.jsx(ek,{icon:r.jsx(P,{size:20}),iconBg:"rgba(10, 132, 255, 0.15)",iconColor:"#0a84ff",title:"Show Full Names",subtitle:g?"Names visible on cards":"Avatars only",toggle:!0,toggleValue:g,onToggle:()=>{T.toggle();let e=!g;h(e),localStorage.setItem("showFullNames",e.toString()),window.dispatchEvent(new CustomEvent("showFullNamesChanged",{detail:e}))}})]}),r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.12},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:(0,r.jsxs)(j.E.div,{onClick:()=>{T.tap(),m(!0)},whileTap:{scale:.98},style:{padding:16,display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[r.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(100, 210, 80, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#64d250",flexShrink:0},children:r.jsx(es,{size:20})}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:"Manage Players"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Add, edit or remove players"})]}),r.jsx(S,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}),s&&(0,r.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[r.jsx("div",{style:{padding:"12px 16px 8px",fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Developer"}),r.jsx(ek,{icon:i?r.jsx(el,{size:20}):r.jsx(eo,{size:20}),iconBg:i?"rgba(255, 214, 10, 0.15)":"rgba(48, 209, 88, 0.15)",iconColor:i?"#ffd60a":"#30d158",title:"Data Source",subtitle:i?"Mock data":"Live backend",toggle:!0,toggleValue:!i,toggleColor:i?"#ffd60a":"#30d158",onToggle:()=>{T.toggle();let e=!i;a(e),(0,z.cc)(e)},hasBorder:!0}),r.jsx(ek,{icon:i?r.jsx(ed,{size:20}):r.jsx(eo,{size:20}),iconBg:i?"rgba(255, 69, 58, 0.15)":"rgba(48, 209, 88, 0.15)",iconColor:i?"#ff453a":"#30d158",title:"Backend Status",subtitle:i?"Offline":"Connected"})]}),(0,r.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden",marginBottom:16},children:[r.jsx(eS,{icon:r.jsx(ec,{size:20}),iconBg:"rgba(10, 132, 255, 0.15)",iconColor:"#0a84ff",title:"About Shotten",hasUpdate:f,onUpdate:u,isChecking:y}),r.jsx(ev.default,{href:"/version/?from=settings",style:{textDecoration:"none",color:"inherit"},children:r.jsx(ez,{icon:r.jsx(ep,{size:18}),iconBg:"rgba(255, 255, 255, 0.08)",iconColor:"rgba(255,255,255,0.4)",label:"Version Details",value:"View build info",hasChevron:!0})})]}),r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},style:{background:"rgba(255, 255, 255, 0.06)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,border:"0.5px solid rgba(255, 255, 255, 0.1)",overflow:"hidden"},children:(0,r.jsxs)(j.E.button,{onClick:e,whileTap:{scale:.98},style:{width:"100%",padding:16,display:"flex",alignItems:"center",gap:12,background:"transparent",border:"none",cursor:"pointer"},children:[r.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(255, 69, 58, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ff453a",flexShrink:0},children:r.jsx(eg,{size:20})}),(0,r.jsxs)("div",{style:{textAlign:"left"},children:[r.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"#ff453a"},children:"Sign Out"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:"Switch to a different player"})]})]})})]}),r.jsx(ej,{isOpen:x,onClose:()=>m(!1)})]})}function ek({icon:e,iconBg:t,iconColor:i,title:n,subtitle:a,toggle:s,toggleValue:l,toggleColor:o,onToggle:d,chevron:c,hasBorder:p}){return(0,r.jsxs)(j.E.div,{onClick:s?d:void 0,whileTap:s?{scale:.98}:void 0,style:{padding:16,display:"flex",alignItems:"center",gap:12,cursor:s?"pointer":"default",borderBottom:p?"0.5px solid rgba(255, 255, 255, 0.06)":"none"},children:[r.jsx("div",{style:{width:40,height:40,borderRadius:10,background:t,display:"flex",alignItems:"center",justifyContent:"center",color:i,flexShrink:0},children:e}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:n}),r.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:a})]}),s&&r.jsx("div",{style:{width:48,height:28,borderRadius:9999,background:l?o||"#30d158":"rgba(255,255,255,0.2)",padding:2,flexShrink:0,transition:"background 0.2s"},children:r.jsx(j.E.div,{animate:{x:l?20:0},transition:{type:"spring",stiffness:500,damping:30},style:{width:24,height:24,borderRadius:"50%",background:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),c&&r.jsx(S,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}function eS({icon:e,iconBg:t,iconColor:i,title:n,hasUpdate:a,onUpdate:s,isChecking:l}){return(0,r.jsxs)("div",{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[r.jsx("div",{style:{width:40,height:40,borderRadius:10,background:t,display:"flex",alignItems:"center",justifyContent:"center",color:i,flexShrink:0},children:e}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontWeight:600,fontSize:"1rem",color:"white"},children:n}),r.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:a?"New version available":"Up to date"})]}),a&&r.jsx(j.E.button,{onClick:s,disabled:l,whileTap:{scale:.95},style:{padding:"8px 16px",fontSize:"0.8rem",fontWeight:600,color:"#000",background:"#30d158",border:"none",borderRadius:8,cursor:l?"wait":"pointer",opacity:l?.7:1},children:l?"Updating...":"Update"})]})}function ez({icon:e,iconBg:t,iconColor:i,label:n,value:a,hasChevron:s}){return(0,r.jsxs)(j.E.div,{style:{padding:"12px 16px",display:"flex",alignItems:"center",gap:12,borderTop:"0.5px solid rgba(255, 255, 255, 0.06)",cursor:"pointer"},children:[r.jsx("div",{style:{width:32,height:32,borderRadius:8,background:t,display:"flex",alignItems:"center",justifyContent:"center",color:i,flexShrink:0},children:e}),(0,r.jsxs)("div",{style:{flex:1},children:[r.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:n}),r.jsx("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.6)"},children:a})]}),s&&r.jsx(S,{size:18,style:{color:"rgba(255,255,255,0.3)"}})]})}var eC=i(8907);let eI=(0,w.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eD=(0,w.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);function eR({team:e,players:t,onClose:i}){let[a,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)("overview"),[d,c]=(0,n.useState)([]),[p,g]=(0,n.useState)(!1),h=(0,n.useRef)(null),x=(0,n.useRef)(null),m=(0,n.useRef)(null),f=(0,n.useRef)(null),u=e=>{if(h.current){let t=("overview"===e?0:"matches"===e?1:2)*h.current.clientWidth;h.current.scrollTo({left:t,behavior:"smooth"})}},y=d.filter(e=>"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,5).map(t=>{let i=t.homeTeam.toLowerCase().includes(e.name.toLowerCase().slice(0,5))||e.name.toLowerCase().includes(t.homeTeam.toLowerCase().slice(0,5)),r=i?t.homeScore:t.awayScore,n=i?t.awayScore:t.homeScore;return r>n?"W":r<n?"L":"D"}),v=new Date,w=d.filter(e=>new Date(e.date)>v||"Scheduled"===e.status).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),k=d.filter(e=>new Date(e.date)<=v&&"Played"===e.status).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),z=t.map(t=>{let i=t.teamStats?.find(t=>t.teamId===e.externalId);return{...t,goals:i?.goals??t.goals,assists:i?.assists??t.assists,gamesPlayed:i?.gamesPlayed??t.gamesPlayed,number:i?.number??t.number}}).sort((e,t)=>t.goals-e.goals);if("undefined"==typeof document)return null;let C=(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",zIndex:1e4}}),r.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",padding:20,zIndex:10001,pointerEvents:"none"},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:30,stiffness:400},style:{position:"relative",width:"100%",maxWidth:420,height:"85vh",maxHeight:"calc(100dvh - 80px)",display:"flex",flexDirection:"column",pointerEvents:"auto",background:"rgba(25, 25, 30, 0.98)",backdropFilter:"blur(60px)",WebkitBackdropFilter:"blur(60px)",borderRadius:24,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 24px 80px rgba(0, 0, 0, 0.8)",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"0.5px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:12},children:[e.imageBase64?r.jsx("img",{src:e.imageBase64,alt:e.name,onClick:()=>s(!0),style:{width:48,height:48,borderRadius:12,objectFit:"cover",border:"1px solid rgba(255,255,255,0.1)",cursor:"zoom-in",flexShrink:0}}):r.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"linear-gradient(135deg, #5e5ce6, #0a84ff)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:700,color:"white",flexShrink:0},children:e.name.charAt(0)}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),e.leagueName&&r.jsx("div",{style:{fontSize:"0.8rem",color:"rgba(255,255,255,0.5)"},children:e.leagueName})]}),r.jsx("button",{onClick:i,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",flexShrink:0},children:r.jsx(N,{size:16})})]}),r.jsx("div",{style:{display:"flex",padding:"10px 16px",gap:6,borderBottom:"0.5px solid rgba(255,255,255,0.08)",background:"rgba(0,0,0,0.2)"},children:[{id:"overview",icon:eD,label:"Overview"},{id:"matches",icon:D,label:"Matches"},{id:"squad",icon:P,label:"Squad"}].map(e=>(0,r.jsxs)(j.E.button,{onClick:()=>u(e.id),whileTap:{scale:.95},style:{flex:1,padding:"8px 12px",background:l===e.id?"rgba(255,255,255,0.1)":"transparent",border:"none",borderRadius:10,color:l===e.id?"white":"rgba(255,255,255,0.5)",fontSize:"0.8rem",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6,transition:"all 0.2s"},children:[r.jsx(e.icon,{size:14}),e.label]},e.id))}),(0,r.jsxs)("div",{ref:h,className:"scrollbar-hide",style:{display:"flex",width:"100%",flex:1,overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollBehavior:"smooth"},children:[(0,r.jsxs)("div",{ref:x,"data-view":"overview",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:[y.length>0&&(0,r.jsxs)("div",{style:{marginBottom:16},children:[r.jsx("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:8},children:"Recent Form"}),r.jsx("div",{style:{display:"flex",gap:6},children:y.map((e,t)=>r.jsx("div",{style:{width:32,height:32,borderRadius:8,background:"W"===e?"rgba(48, 209, 88, 0.2)":"L"===e?"rgba(255, 69, 58, 0.2)":"rgba(255, 214, 10, 0.2)",color:"W"===e?"#30d158":"L"===e?"#ff453a":"#ffd60a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",fontWeight:700},children:e},t))})]}),void 0!==e.rank&&(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:1,background:"rgba(255,255,255,0.1)",borderRadius:12,overflow:"hidden",marginBottom:16},children:[r.jsx(eW,{label:"RANK",value:`#${e.rank}`,color:"#ffd60a"}),r.jsx(eW,{label:"PTS",value:e.points||0}),r.jsx(eW,{label:"W/D/L",value:(0,r.jsxs)("span",{children:[r.jsx("span",{style:{color:"#30d158"},children:e.wins||0}),r.jsx("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),r.jsx("span",{style:{color:"#ffd60a"},children:e.draws||0}),r.jsx("span",{style:{color:"rgba(255,255,255,0.3)"},children:"/"}),r.jsx("span",{style:{color:"#ff453a"},children:e.losses||0})]})}),r.jsx(eW,{label:"GD",value:`${(e.goalDifference||0)>=0?"+":""}${e.goalDifference||0}`,color:(e.goalDifference||0)>=0?"#30d158":"#ff453a"})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginBottom:16},children:[r.jsx(eT,{label:"Played",value:e.matchesPlayed||0}),r.jsx(eT,{label:"Goals For",value:e.goalsFor||0,color:"#30d158"}),r.jsx(eT,{label:"Goals Agst",value:e.goalsAgainst||0,color:"#ff453a"})]}),(e.colors||e.manager||e.description)&&(0,r.jsxs)("div",{style:{padding:14,background:"rgba(255,255,255,0.04)",borderRadius:12,marginBottom:16},children:[e.colors&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:e.manager||e.description?10:0},children:[r.jsx("span",{style:{fontSize:"0.9rem"},children:"\uD83C\uDFA8"}),r.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:e.colors})]}),e.manager&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:e.description?10:0},children:[r.jsx(L,{size:16,style:{color:"rgba(255,255,255,0.4)"}}),r.jsx("span",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)"},children:e.manager})]}),e.description&&(0,r.jsxs)("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.5)",fontStyle:"italic",lineHeight:1.5},children:['"',e.description,'"']})]}),(0,r.jsxs)("a",{href:`https://www.lzvcup.be/teams/detail/${e.externalId}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:14,gap:8,background:"rgba(10,132,255,0.15)",borderRadius:12,color:"#0a84ff",fontSize:"0.9rem",fontWeight:600,textDecoration:"none"},children:["View on LZV Cup ",r.jsx(S,{size:16})]})]}),r.jsx("div",{ref:m,"data-view":"matches",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:p?r.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:40,color:"rgba(255,255,255,0.5)"},children:r.jsx("div",{className:"spinner",style:{width:24,height:24}})}):0===d.length?r.jsx("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No matches available"}):(0,r.jsxs)(r.Fragment,{children:[w.length>0&&(0,r.jsxs)("div",{style:{marginBottom:20},children:[(0,r.jsxs)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:["Upcoming (",w.length,")"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:w.slice(0,5).map(t=>r.jsx(eB,{match:t,teamName:e.name},t._id))})]}),k.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{fontSize:"0.7rem",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",marginBottom:10},children:["Recent Results (",k.length,")"]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:k.slice(0,10).map(t=>r.jsx(eB,{match:t,teamName:e.name,isPlayed:!0},t._id))})]})]})}),r.jsx("div",{ref:f,"data-view":"squad",style:{minWidth:"100%",scrollSnapAlign:"center",padding:16,overflowY:"auto"},children:z.length>0?r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:z.map((e,t)=>(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:t<3?"rgba(255,214,10,0.08)":"rgba(255,255,255,0.03)",borderRadius:12,border:"0.5px solid rgba(255,255,255,0.05)"},children:[r.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:t<3?"#ffd60a":"rgba(255,255,255,0.1)",color:t<3?"black":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",fontWeight:700,flexShrink:0},children:e.number||t+1}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[r.jsx("div",{style:{fontSize:"0.9rem",color:"white",fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:[e.gamesPlayed," games"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:12,fontSize:"0.9rem"},children:[(0,r.jsxs)("span",{style:{color:"#30d158",fontWeight:600},children:["⚽ ",e.goals]}),(0,r.jsxs)("span",{style:{color:"#0a84ff",fontWeight:600},children:["\uD83C\uDFAF ",e.assists]})]})]},e.externalId))}):r.jsx("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No player stats available"})})]})]})}),r.jsx(b,{children:a&&e.imageBase64&&(0,r.jsxs)(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),style:{position:"fixed",inset:0,zIndex:10002,background:"rgba(0,0,0,0.95)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:[r.jsx(j.E.img,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},src:e.imageBase64,style:{maxWidth:"100%",maxHeight:"80vh",borderRadius:16,objectFit:"contain"}}),r.jsx("button",{onClick:()=>s(!1),style:{position:"absolute",top:20,right:20,background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"50%",width:40,height:40,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:r.jsx(N,{size:24})})]})})]});return(0,B.createPortal)(C,document.body)}function eW({label:e,value:t,color:i}){return(0,r.jsxs)("div",{style:{background:"rgba(35,35,40,0.8)",padding:12,textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:i||"white"},children:t}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:e})]})}function eT({label:e,value:t,color:i}){return(0,r.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.04)",borderRadius:10,textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:i||"white"},children:t}),r.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)",marginTop:2},children:e})]})}function eB({match:e,teamName:t,isPlayed:i}){let n=e.homeTeam.toLowerCase().includes(t.toLowerCase().slice(0,5))||t.toLowerCase().includes(e.homeTeam.toLowerCase().slice(0,5)),a=n?e.awayTeam:e.homeTeam,s=n?e.homeScore:e.awayScore,l=n?e.awayScore:e.homeScore,o=s>l?"W":s<l?"L":"D",d="W"===o?"#30d158":"L"===o?"#ff453a":"#ffd60a",c=new Date(e.date),p=c.toLocaleDateString("en-GB",{day:"numeric",month:"short"}),g=c.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"10px 12px",background:i?"rgba(255,255,255,0.03)":"rgba(10,132,255,0.08)",borderRadius:12,border:`0.5px solid ${i?"rgba(255,255,255,0.05)":"rgba(10,132,255,0.2)"}`},children:[i&&r.jsx("div",{style:{width:28,height:28,borderRadius:8,background:`${d}20`,color:d,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:700,flexShrink:0},children:o}),(0,r.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,r.jsxs)("div",{style:{fontSize:"0.85rem",fontWeight:500,color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[n?"vs":"@"," ",a]}),(0,r.jsxs)("div",{style:{fontSize:"0.7rem",color:"rgba(255,255,255,0.4)"},children:[p," • ",g,e.location&&` • ${e.location}`]})]}),i&&(0,r.jsxs)("div",{style:{fontSize:"0.95rem",fontWeight:700,color:d},children:[s," - ",l]})]})}function eE(){let[e,t]=(0,n.useState)("standings"),[i,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[o,d]=(0,n.useState)(!0),[c,p]=(0,n.useState)(null),[g,h]=(0,n.useState)(""),[x,m]=(0,n.useState)(50),[f,u]=(0,n.useState)(null),y=(0,n.useMemo)(()=>Array.from(new Set(i.map(e=>e.leagueName).filter(Boolean))).sort(),[i]),v=e=>{let t=s.filter(t=>t.teamIds&&t.teamIds.length>0?t.teamIds.includes(e.externalId):t.teamId===e.externalId);p({team:e,players:t})},w=e=>{let t=e.teamIds||[e.teamId],r=i.filter(e=>t.includes(e.externalId));0!==r.length&&(1===r.length?v(r[0]):u({player:e,teams:r}))},k=e=>{let t=e.toLowerCase();return t.includes("degrad")||t.includes("wille ma ni")},S=(0,n.useMemo)(()=>g?i.filter(e=>e.leagueName===g).sort((e,t)=>(e.rank||99)-(t.rank||99)):[],[i,g]),z=(0,n.useMemo)(()=>{if(!g)return[];let e=new Set(S.map(e=>e.externalId));return s.filter(t=>t.teamIds&&t.teamIds.length>0?t.teamIds.some(t=>e.has(t)):e.has(t.teamId)).sort((e,t)=>t.goals-e.goals)},[s,S,g]),C=(0,n.useMemo)(()=>({totalGoals:z.reduce((e,t)=>e+t.goals,0),totalAssists:z.reduce((e,t)=>e+t.assists,0),teamCount:S.length,playerCount:z.length}),[z,S]);return(0,r.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",background:"#000"},children:[(0,r.jsxs)("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",background:"rgba(28, 28, 30, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",position:"sticky",top:0,zIndex:10,borderBottom:"0.5px solid rgba(255,255,255,0.08)"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[r.jsx(eC.Z,{size:16,style:{color:"#ffd60a"}}),r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#ffd60a",textTransform:"uppercase",letterSpacing:"0.05em"},children:"LZV Cup"})]}),r.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:800,margin:0,color:"white"},children:"League"})]}),!o&&(0,r.jsxs)("div",{style:{display:"flex",gap:12,fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:[(0,r.jsxs)("span",{children:[r.jsx("strong",{style:{color:"white"},children:C.teamCount})," teams"]}),(0,r.jsxs)("span",{children:[r.jsx("strong",{style:{color:"#30d158"},children:C.totalGoals})," goals"]})]})]}),y.length>0&&(0,r.jsxs)("div",{style:{marginTop:12,position:"relative"},children:[r.jsx("select",{value:g,onChange:e=>h(e.target.value),style:{width:"100%",appearance:"none",background:"rgba(255,255,255,0.08)",border:"0.5px solid rgba(255,255,255,0.1)",borderRadius:10,padding:"10px 14px",paddingRight:36,color:"white",fontSize:"0.9rem",fontWeight:500,cursor:"pointer"},children:y.map(e=>r.jsx("option",{value:e,style:{color:"black",background:"#1c1c1e"},children:e},e))}),r.jsx(eI,{size:16,color:"rgba(255,255,255,0.5)",style:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)",pointerEvents:"none"}})]}),r.jsx("div",{style:{display:"flex",background:"rgba(118, 118, 128, 0.2)",borderRadius:10,padding:3,marginTop:12},children:[{id:"standings",icon:eD,label:"Standings"},{id:"players",icon:P,label:"Top Scorers"}].map(i=>(0,r.jsxs)(j.E.button,{onClick:()=>t(i.id),whileTap:{scale:.98},style:{flex:1,border:"none",background:e===i.id?"rgba(99, 99, 102, 0.8)":"transparent",color:e===i.id?"white":"rgba(255,255,255,0.5)",padding:"8px 0",borderRadius:8,fontSize:"0.85rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[r.jsx(i.icon,{size:14}),i.label]},i.id))})]}),r.jsx("div",{style:{flex:1,overflowY:"auto",paddingBottom:100},children:o?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:60},children:r.jsx(F,{className:"animate-spin",size:24,color:"rgba(255,255,255,0.5)"})}):r.jsx(b,{mode:"wait",children:"standings"===e?r.jsx(j.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.15},style:{padding:16},children:(0,r.jsxs)("div",{style:{background:"#1c1c1e",borderRadius:16,overflow:"hidden",border:"0.5px solid rgba(255,255,255,0.08)"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"28px 1fr 32px 32px 38px 38px",gap:6,padding:"10px 12px",borderBottom:"0.5px solid rgba(255,255,255,0.08)",fontSize:"0.65rem",fontWeight:700,color:"rgba(255,255,255,0.35)",textTransform:"uppercase",letterSpacing:"0.03em"},children:[r.jsx("div",{style:{textAlign:"center"},children:"#"}),r.jsx("div",{children:"Team"}),r.jsx("div",{style:{textAlign:"center"},children:"MP"}),r.jsx("div",{style:{textAlign:"center"},children:"GD"}),r.jsx("div",{style:{textAlign:"center"},children:"Pts"}),r.jsx("div",{style:{textAlign:"center"},children:"Avg"})]}),S.length>0?S.map((e,t)=>{let i=k(e.name),n=1===e.rank,a=e.rank===S.length;return(0,r.jsxs)(j.E.div,{onClick:()=>v(e),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.02*t,duration:.2},whileTap:{scale:.99,background:"rgba(255,255,255,0.06)"},style:{display:"grid",gridTemplateColumns:"28px 1fr 32px 32px 38px 38px",gap:6,padding:"12px",borderBottom:"0.5px solid rgba(255,255,255,0.04)",fontSize:"0.85rem",color:"white",alignItems:"center",cursor:"pointer",background:i?"rgba(10, 132, 255, 0.12)":"transparent",position:"relative"},children:[i&&r.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:3,background:"#0a84ff",borderRadius:"0 2px 2px 0"}}),r.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:"0.8rem",color:n?"#ffd60a":a?"#ff453a":"rgba(255,255,255,0.4)"},children:e.rank}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,overflow:"hidden"},children:[e.imageBase64?r.jsx("img",{src:e.imageBase64,alt:"",style:{width:26,height:26,borderRadius:6,objectFit:"cover",flexShrink:0}}):r.jsx("div",{style:{width:26,height:26,borderRadius:6,background:n?"linear-gradient(135deg, #ffd60a, #ff9500)":"#3a3a3c",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:700,color:n?"black":"white",flexShrink:0},children:e.name.charAt(0)}),r.jsx("div",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:i?700:500},children:e.name})]}),r.jsx("div",{style:{textAlign:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.8rem"},children:e.matchesPlayed}),(0,r.jsxs)("div",{style:{textAlign:"center",color:(e.goalDifference||0)>0?"#30d158":0>(e.goalDifference||0)?"#ff453a":"rgba(255,255,255,0.4)",fontSize:"0.8rem",fontWeight:600},children:[(e.goalDifference||0)>0?"+":"",e.goalDifference||0]}),r.jsx("div",{style:{textAlign:"center",fontWeight:800,fontSize:"0.9rem"},children:e.points}),r.jsx("div",{style:{textAlign:"center",color:"#0a84ff",fontSize:"0.75rem",fontWeight:600},children:e.pointsPerMatch?.toFixed(1)})]},e.externalId)}):r.jsx("div",{style:{padding:24,textAlign:"center",color:"rgba(255,255,255,0.4)"},children:"No teams found for this league"})]})},"standings"):r.jsx(j.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.15},style:{padding:16},children:r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:0===z.length?r.jsx("div",{style:{textAlign:"center",padding:40,color:"rgba(255,255,255,0.4)"},children:"No player data available for this league"}):(0,r.jsxs)(r.Fragment,{children:[z.slice(0,x).map((e,t)=>{let n=e.teamIds||[e.teamId],a=i.filter(e=>n.includes(e.externalId)),s=a[0],l=a.some(e=>k(e.name)),o=a.length>1,d=t<3;return(0,r.jsxs)(j.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(.015*t,.3),duration:.2},onClick:()=>w(e),style:{background:l?"rgba(10, 132, 255, 0.12)":d?"rgba(255, 214, 10, 0.06)":"#1c1c1e",borderRadius:14,padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",border:d?"0.5px solid rgba(255, 214, 10, 0.15)":"0.5px solid rgba(255,255,255,0.05)",position:"relative",overflow:"hidden",cursor:a.length>0?"pointer":"default"},children:[l&&r.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:3,background:"#0a84ff"}}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[r.jsx("div",{style:{width:28,textAlign:"center",fontSize:"0.85rem",fontWeight:700,color:d?"#ffd60a":"rgba(255,255,255,0.35)"},children:t+1}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{fontWeight:600,color:"white",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:6},children:[e.name,o&&(0,r.jsxs)("span",{style:{fontSize:"0.6rem",padding:"2px 5px",background:"rgba(94, 92, 230, 0.3)",color:"#a5a4f3",borderRadius:4,fontWeight:600},children:[a.length," teams"]})]}),(0,r.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",display:"flex",alignItems:"center",gap:6},children:[o?a.map(e=>e.name).join(" & "):s?.name||"Unknown Team",r.jsx("span",{style:{opacity:.5},children:"•"}),(0,r.jsxs)("span",{children:[e.gamesPlayed,"g"]})]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:14,alignItems:"center"},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"1rem",fontWeight:700,color:"#30d158"},children:e.goals}),r.jsx("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.3)",textTransform:"uppercase"},children:"Goals"})]}),r.jsx("div",{style:{width:1,height:24,background:"rgba(255,255,255,0.1)"}}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"1rem",fontWeight:700,color:"#0a84ff"},children:e.assists}),r.jsx("div",{style:{fontSize:"0.55rem",color:"rgba(255,255,255,0.3)",textTransform:"uppercase"},children:"Asts"})]})]})]},e.externalId)}),x<z.length&&(0,r.jsxs)(j.E.button,{onClick:()=>{m(e=>e+50)},whileTap:{scale:.98},style:{padding:"14px",background:"rgba(255,255,255,0.06)",border:"0.5px solid rgba(255,255,255,0.1)",borderRadius:12,color:"white",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",marginTop:8,display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:["Show More (",z.length-x," remaining)",r.jsx(eI,{size:16})]})]})})},"players")})}),r.jsx(b,{children:f&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(10px)",zIndex:1e4}}),r.jsx("div",{style:{position:"fixed",inset:0,zIndex:10001,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",padding:20},children:(0,r.jsxs)(j.E.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:25,stiffness:350},style:{width:"100%",maxWidth:320,background:"rgba(28, 28, 30, 0.95)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",borderRadius:20,padding:20,border:"0.5px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 40px rgba(0,0,0,0.5)",pointerEvents:"auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[r.jsx("div",{style:{fontSize:"1.1rem",fontWeight:700,color:"white"},children:"Select Team"}),r.jsx("button",{onClick:()=>u(null),style:{background:"rgba(255,255,255,0.08)",border:"none",borderRadius:"50%",width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.8)",cursor:"pointer",transition:"background 0.2s"},children:r.jsx(N,{size:16})})]}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:f.teams.map(e=>(0,r.jsxs)(j.E.button,{onClick:()=>{v(e),u(null)},whileTap:{scale:.97},style:{display:"flex",alignItems:"center",gap:12,padding:"12px 14px",background:"rgba(255,255,255,0.05)",border:"0.5px solid rgba(255,255,255,0.05)",borderRadius:14,cursor:"pointer",textAlign:"left"},children:[e.imageBase64?r.jsx("img",{src:e.imageBase64,alt:"",style:{width:36,height:36,borderRadius:10,objectFit:"cover"}}):r.jsx("div",{style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg, #ffd60a, #ff9500)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:"0.9rem",color:"black"},children:e.name.charAt(0)}),r.jsx("div",{style:{color:"white",fontWeight:600,fontSize:"0.95rem"},children:e.name})]},e.externalId))})]})})]})}),r.jsx(b,{children:c&&r.jsx(eR,{team:c.team,players:c.players,onClose:()=>p(null)})})]})}function eP({playerId:e,currentView:t,onLogout:i,onViewChange:a,onPlayerManagementOpenChange:s}){let{matches:l,loading:o,error:d,fetchMatches:c,setMatches:p}=(0,z.SN)(e),{players:g,fetchAllPlayers:h}=(0,z.vw)(),x=(0,n.useRef)(null),m=(0,n.useRef)(null);(0,n.useRef)(!1);let f=(0,n.useRef)(!1);(0,n.useRef)(!0);let u=(0,n.useRef)(null),y=(0,n.useRef)(null),b=(0,n.useRef)(null),v=(0,n.useRef)(null),w=async(t,i)=>{void 0!==t&&void 0!==i?p(r=>r.map(r=>{if(r.id===t){let t=r.attendances?[...r.attendances]:[],n=t.findIndex(t=>t.playerId===e);return n>=0?t[n]={...t[n],status:i}:t.push({playerId:e,status:i}),{...r,attendances:t}}return r})):await c()},k=new Date(new Date().getTime()-72e5),S=l.find(e=>new Date(e.date)>k),C=l.filter(e=>e.id!==S?.id),I=C.filter(e=>new Date(e.date)>k),R=C.filter(e=>new Date(e.date)<=k).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());if(o)return(0,r.jsxs)("div",{className:"container",children:[r.jsx("div",{className:"glass-panel-heavy skeleton",style:{height:320,marginBottom:"var(--space-xl)"}}),r.jsx("div",{className:"grid-cards",children:[void 0,void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"glass-panel skeleton",style:{height:200}},t))})]});if(d)return r.jsx("div",{className:"container flex-center",style:{minHeight:"80dvh"},children:(0,r.jsxs)(j.E.div,{className:"glass-panel-heavy",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{padding:"var(--space-2xl)",textAlign:"center",maxWidth:400},children:[r.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-lg)"},children:"\uD83D\uDC7B"}),r.jsx("h2",{className:"text-title",style:{marginBottom:"var(--space-sm)"},children:"Connection Lost"}),r.jsx("p",{className:"text-body",style:{marginBottom:"var(--space-lg)"},children:"Unable to reach the server. Check your connection."}),r.jsx("button",{className:"btn btn-primary touch-target",onClick:()=>c(),children:"Try Again"})]})});let W=(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{style:{marginBottom:20},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[r.jsx(D,{size:16,style:{color:"#0a84ff"}}),r.jsx("span",{style:{fontSize:"0.75rem",fontWeight:600,color:"#0a84ff",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Schedule"})]}),r.jsx("h1",{style:{fontSize:"1.75rem",fontWeight:700,color:"white",margin:0},children:"Matches"})]}),S?r.jsx("section",{style:{marginBottom:"var(--space-2xl)",position:"relative"},children:r.jsx($,{match:S,currentPlayerId:e,allPlayers:g,onUpdate:w,variant:"hero"})}):(0,r.jsxs)("div",{className:"glass-panel-heavy flex-center",style:{minHeight:300,flexDirection:"column",textAlign:"center",padding:"var(--space-2xl)",marginBottom:"var(--space-2xl)"},children:[r.jsx("div",{style:{fontSize:"3rem",marginBottom:"var(--space-md)"},children:"⚽"}),r.jsx("h2",{className:"text-title",children:"No Upcoming Matches"}),r.jsx("p",{className:"text-body",children:"Time to schedule the next game!"})]}),I.length>0&&(0,r.jsxs)("section",{ref:x,style:{marginBottom:"var(--space-2xl)"},children:[r.jsx("h2",{className:"text-label",style:{marginBottom:"var(--space-md)"},children:"Upcoming Matches"}),r.jsx("div",{className:"grid-cards",children:I.map(t=>r.jsx("div",{style:{height:"100%",width:"100%"},children:r.jsx($,{match:t,currentPlayerId:e,allPlayers:g,onUpdate:w,variant:"compact"})},t.id))})]}),R.length>0&&(0,r.jsxs)("section",{children:[r.jsx("h2",{className:"text-label",style:{marginBottom:"var(--space-md)"},children:"Past Matches"}),r.jsx("div",{className:"grid-cards",style:{opacity:.6},children:R.slice(0,4).map(t=>r.jsx("div",{style:{height:"100%",width:"100%"},children:r.jsx($,{match:t,currentPlayerId:e,allPlayers:g,onUpdate:w,variant:"compact"})},t.id))})]})]});return(0,r.jsxs)("div",{ref:m,onTouchStart:()=>{f.current=!0},onTouchEnd:()=>{setTimeout(()=>{f.current=!1},500)},style:{display:"flex",width:"100vw",height:"100dvh",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},className:"scrollbar-hide",children:[r.jsx("div",{ref:u,"data-view":"home",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:W}),r.jsx("div",{ref:y,"data-view":"stats",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:r.jsx(K,{matches:l,players:g,currentPlayerId:e})}),r.jsx("div",{ref:b,"data-view":"league",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"hidden"},children:r.jsx(eE,{})}),r.jsx("div",{ref:v,"data-view":"settings",style:{width:"100vw",height:"100dvh",flexShrink:0,scrollSnapAlign:"start",scrollSnapStop:"always",overflowY:"auto"},children:r.jsx(ew,{onLogout:i,onPlayerManagementOpenChange:s})})]})}let eM=(0,w.Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),eA=(0,w.Z)("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),eN=[{id:"home",icon:r.jsx(eM,{size:22}),label:"Home"},{id:"stats",icon:r.jsx(eA,{size:22}),label:"Stats"},{id:"league",icon:r.jsx(eC.Z,{size:22}),label:"League"},{id:"settings",icon:r.jsx(er,{size:22}),label:"Settings"}];function eF({currentView:e,onNavigate:t,isHidden:i=!1}){let[a,s]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),d=(0,n.useCallback)(t=>{let i=eN.findIndex(t=>t.id===e);return t<-20&&i>0?eN[i-1].id:t>20&&i<eN.length-1?eN[i+1].id:null},[e]),c=(0,n.useCallback)((e,t)=>{s(d(t.offset.x))},[d]),p=(0,n.useCallback)((i,r)=>{let n=eN.findIndex(t=>t.id===e),a=r.velocity.x,l=r.offset.x,d=!1,c=null;(a<-500||l<-20)&&n>0?(d=!0,c=eN[n-1].id):(a>500||l>20)&&n<eN.length-1&&(d=!0,c=eN[n+1].id),s(null),o(!1),d&&c&&(T.swipe(),t(c))},[e,t]);return r.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,display:"flex",justifyContent:"center",paddingBottom:"max(24px, env(safe-area-inset-bottom, 24px))",zIndex:9999,pointerEvents:"none",opacity:i?0:1,transform:i?"translateY(100px)":"translateY(0)",transition:"opacity 0.3s, transform 0.3s"},children:r.jsx(j.E.nav,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:400,damping:30,delay:.3},style:{pointerEvents:"auto"},children:r.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:6,padding:8,background:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(30px) saturate(180%)",WebkitBackdropFilter:"blur(30px) saturate(180%)",borderRadius:9999,border:"0.5px solid rgba(255, 255, 255, 0.12)",boxShadow:`
                            0 8px 32px rgba(0, 0, 0, 0.2),
                            inset 0 0.5px 0 rgba(255, 255, 255, 0.08)
                        `},children:eN.map(i=>{let n=e===i.id,s=a===i.id;return(0,r.jsxs)(j.E.button,{onClick:()=>{l||(T.navigate(),t(i.id))},whileTap:{scale:l?1:.85},drag:!!n&&"x",dragConstraints:{left:0,right:0},dragElastic:.5,onDragStart:()=>o(!0),onDrag:n?c:void 0,onDragEnd:n?p:void 0,"aria-label":i.label,style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:52,height:52,border:"none",borderRadius:9999,background:"transparent",cursor:n?"grab":"pointer",zIndex:n?2:1,touchAction:"none"},children:[n&&r.jsx(j.E.div,{layoutId:"nav-pill-bg",transition:{type:"spring",stiffness:500,damping:35,mass:.8},style:{position:"absolute",inset:0,borderRadius:9999,background:`linear-gradient(
                                                180deg,
                                                rgba(255, 255, 255, 0.16) 0%,
                                                rgba(255, 255, 255, 0.08) 100%
                                            )`,border:"0.5px solid rgba(255, 255, 255, 0.15)",boxShadow:`
                                                0 0 20px rgba(255, 255, 255, 0.1),
                                                inset 0 1px 0 rgba(255, 255, 255, 0.2)
                                            `}}),s&&!n&&r.jsx(j.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},style:{position:"absolute",inset:2,borderRadius:9999,border:"2px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.05)"}}),r.jsx(j.E.div,{animate:{scale:n?1.05:s?1.1:.9,color:n?"#ffffff":s?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.35)"},transition:{type:"spring",stiffness:500,damping:30},style:{display:"flex",alignItems:"center",justifyContent:"center",zIndex:2},children:i.icon})]},i.id)})})})})}function eL(){let[e,t]=(0,n.useState)(null),[i,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(!1),o=(0,v.useSearchParams)(),d=(0,v.useRouter)(),c=(0,v.usePathname)(),[p,g]=(0,n.useState)(()=>"home"),h=(0,n.useCallback)(e=>{g(e);let t=new URLSearchParams(o.toString());"home"===e?t.delete("view"):t.set("view",e),d.replace(`${c}?${t.toString()}`,{scroll:!1}),window.scrollTo({top:0,behavior:"smooth"})},[o,d,c]);return i?r.jsx("div",{className:"flex-center",style:{minHeight:"100dvh"},children:r.jsx("div",{className:"spinner"})}):(0,r.jsxs)("main",{style:{overflow:"hidden"},children:[r.jsx(b,{initial:!1,mode:"popLayout",children:e?r.jsx(eP,{playerId:e,currentView:p,onLogout:()=>{localStorage.removeItem("selectedPlayerId"),t(null),g("home"),d.replace(c,{scroll:!1})},onViewChange:h,onPlayerManagementOpenChange:l}):r.jsx(j.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95,filter:"blur(10px)"},transition:{duration:.35},children:r.jsx(C,{onSelect:e=>{localStorage.setItem("selectedPlayerId",e.toString()),t(e)}})},"player-select")}),e&&r.jsx(eF,{currentView:p,onNavigate:e=>h(e),isHidden:s})]})}function e$(){return r.jsx(n.Suspense,{fallback:r.jsx("div",{className:"flex-center",style:{minHeight:"100dvh"},children:r.jsx("div",{className:"spinner"})}),children:r.jsx(eL,{})})}},5047:(e,t,i)=>{"use strict";var r=i(7389);i.o(r,"usePathname")&&i.d(t,{usePathname:function(){return r.usePathname}}),i.o(r,"useRouter")&&i.d(t,{useRouter:function(){return r.useRouter}}),i.o(r,"useSearchParams")&&i.d(t,{useSearchParams:function(){return r.useSearchParams}})},908:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(8570).createProxy)(String.raw`/home/tristan/Documents/projects/Shotten-App/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[948,471,830,495],()=>i(415));module.exports=r})();